# Finiteness Conditions
## Modules
#### $\defn$ – Generated Module
![[Generator#$ defn$ – Generated Submodule]]
#### $\defn$ – Basis
![[Basis and Free Module#$ defn$ – Basis]]
#### $\defn$ – Free Module
![[Basis and Free Module#$ defn$ – Free Module]]
#### $\ex$ – Vector Space is a Free Module
Every [[Vector Space|vector space]] over a field $k$ is a [[Basis and Free Module|free]] $k$-module. 
#### $\rem$ #prove
Every [[Basis and Free Module|free]] $R$-module is isomorphic to a [[Direct Product, Sum|direct sum]] of copies of $R$. To construct such an isomorphism for the free $R$-module $M$, take a [[Basis and Free Module|basis]] $\Gamma = \left\lbrace \gamma_i \right\rbrace_{i \in I}$ for $M$ and let $\pi$ be a map such that $$\begin{CD}
\oplus_{i \in I}R@>\pi>> M\\\\
(r_i)_{i \in I}@>>> \displaystyle\sum_i r_i \gamma_i
\end{CD}$$The condition that $\Gamma$ is a basis for $M$ is equivalent to $\pi$ being an isomorphism of $R$-modules.
#### $\rem$ #prove 
A homomorphism of $R$-modules $M\to N$ is completely determined by the images of the elements on any given set of [[Generator|generators]] for $M$.
#### $\lem$ – Generated Module Equivalencies
![[Lemma – Generated Module Equivalencies]]
#### $\defn$ – Finitely Generated Module
![[Finitely Generated Module]]
#### $\ex$ – Cyclic Modules 
An $R$-module is [[Cyclic#$ defn$ – Cyclic Module|cyclic]] if it can be [[Generator#$ defn$ – Generated Submodule|generated]] by one element. Equivalently, we can write $M$ as a [[Quotient Ring|quotient]] of $R$ by some ideal $I$. Indeed, given a generator $m$ for $M$, the [[Kernel|kernel]] of the map
$R^{n}\longrightarrow M$ induced by $1 \mapsto m$ is some ideal $I$. Since we assumed that $m$ generates $M$, $\pi$ is automatically surjective, and thus induces an isomorphism $R/I \cong M$.
#### $\rem$
More generally, if an $R$-module has $n$ [[Generator|generators]], we can naturally think about it as a [[Quotient Module|quotient]] of $R^n$ by the submodule of [[Mathematics/Modern Algebra/Definitions/Relation|relations]] among those $n$ generators. More precisely, if $M$ is generated by $m_1, \ldots, m_n \in M$, then the homomorphism of $R$-modules$$\begin{CD}
R^{n}@>\pi>> m\\\\
(r_{1}, \ldots, r_{n})@>d>> r_{1} m_{1} + \cdots + r_{n} m_{n}
\end{CD}$$that sends each of the canonical generators $e_i$ of $R^n$ to $m_i$ is surjective; more precisely, this is a [[Presentation of $R$-Module|presentation]] for $M$. By the [[Theorem – First Isomorphism Theorem|First Isomorphism Theorem]], $M \cong R^n / \ker \pi$.

## Algebras
#### $\defn$ – Algebra
![[Algebra]]
#### $\ex$ – 
(a) If $A$ is a ring and $x_1,\dots,x_n$ are indeterminates, the [[Inclusion Map|inclusion map]] $A \hookrightarrow A[x_1,\dots,x_n]$ makes the [[Polynomial Ring|polynomial ring]] into an $A$-[[Algebra|algebra]].
(b) More generally, any inclusion map $R \subseteq S$ gives $S$ an $R$-algebra structure. In this case the $R$-module multiplication coincides with the internal (ring) multiplication on $S$.
(c) Any ring comes with a unique structure as a $\Z$-algebra, since there is a unique ring homomorphism $\Z \to R$: the one given by $n \mapsto n \cdot 1_R$.
#### $\defn$ – Generated Algebras
![[Generated Algebra]]
#### $\lem$ – Equivalent Algebra Generations
![[Lemma – Generated Algebra Equivalencies]]
#### $\rem$
Let $S$ be an $R$-[[Algebra|algebra]] [[Generated Algebra|generated]] by $\Lambda$, let $\pi$ be the surjective map in part c) of this [[Lemma – Generated Algebra Equivalencies|Lemma]], and let $I :=  \ker \pi$. By the [[Theorem – First Isomorphism Theorem#$ thm$ – First Isomorphism Theorem for Rings|First Isomorphism Theorem]], we have a ring isomorphism $S\cong R[X]/I$. The elements of $I$ are the [[Mathematics/Modern Algebra/Definitions/Relation|relations]] among the [[Generator#$ defn$ – Generator|generators]] in $\Lambda$. If we understand the ring $R$ and generators and relations for $S$ over $R$, we can get a pretty concrete understanding of $S$.
#### $\defn$ – Free Algebra
![[Free Algebra]]
#### $\ex$ – 
You may have seen this used in $\Z[\sqrt{d}]$ for some $d \in \Z$ to describe the ring $$\{ a + b \sqrt{d} \mid a,b \in \Z\}.$$The $\Z$-[[Algebra|algebra]] [[Generated Algebra|generated]] by $\sqrt{d}$ in the most natural place, the [[Algebraic Closure|algebraic closure]] of $\Q$, is exactly the set above. The point is that for any power $(\sqrt{d})^n$, we can always write $n=2q+r$ with $r\in \{0,1\}$, so $(\sqrt{d})^n=d^q (\sqrt{d})^r$ is in the algebra generated by $\mathbb{Z}$ and $\sqrt{d}$. 

We can also write the one-generated $\Z$-algebra $\Z[\sqrt{d}]$ as a [[Quotient Ring|quotient]] of a [[Polynomial Ring|polynomial ring]] in one variable: if $d$ is not a perfect square, the map $\pi$ in part c) of this [[Lemma – Generated Algebra Equivalencies|Lemma]] is
$$
\begin{CD}
\Z[x]@>\pi>> \Z[\sqrt[3]{d}]\\\\
x@>>> \sqrt[3]{d}\\\\
y@>>> \sqrt[3]{d^{2}}
\end{CD}
$$
and its kernel is [[Generator#$ defn$ – Generated Ideal|generated]] by $x^2-d$, so $\Z[\sqrt{d}] \cong \Z[x]/(x^2-d)$.

Similarly, the ring $\Z[\sqrt[3]{d}]$ can be written as 
$$\Z[\sqrt[3]{d}] = \{ a + b \sqrt[3]{d} + c \sqrt[3]{d^2}  \ | \ a,b,c\in \Z\},$$
which is a quotient of $\mathbb{Z}[x,y]$, and the map $\pi$ from above is
$$\begin{CD}
\Q[w_{1},\dots,w_{6}]@>\pi>> R\\\\
(w_{1}, \ldots, w_{6})@>>> (x^{2},xy,xz,y^{2},yz,z^{2})
\end{CD}$$
#### $\defn$ – Algebra Finite
![[Algebra Finite]]
## Algebra-Finite Versus Module-Finite
#### $\defn$ – Module Finite
![[Module Finite]]
#### $\lem$ – Subsets of Generating Sets
![[Lemma – Subsets of Generating Sets]]
#### $\lem$ – Mod Finite and Algebra Finite Expressions
![[Lemma – Mod Finite and Algebra Finite Expressions]]
#### $\ex$ – 
Given $n \geqslant 2$, the $\Q$-[[Algebra|algebra]] $S=\Q[x]/(x^n)$ is [[Generated Algebra|generated]] as an algebra by the element $x$. Note, however, that this is not a [[Free Algebra|free]] $\Q$-algebra: $x$ satisfies the algebra relation $x^n=0$. When we think about it as a $\Q$-module, $x$ does not generate $S$, since we are no longer allowed to take products of $x$ by itself. The set $\{ 1, x, \ldots x^n \}$ is a generating set for $S$ as a module; this is the same as asking for a [[Basis and Free Module|basis]] for the $\Q$-[[Vector Space|vector space]] $S$.
#### $\lem$ – Module Finite Implies Algebra Finite
![[Lemma – Module Finite Implies Algebra Finite]]
#### $\ex$ – Algebra Finite but not Module Finite
(a) The [[Gaussian Integers|Gaussian integers]] $\Z[i]$ satisfy the well-known property (or definition, depending on your source) that any element $z\in\Z[i]$ admits a unique expression $z=a+bi$ with $a,b\in \Z$. That is, $\Z[i]$ is [[Generator#$ defn$ – Generated Submodule|generated]] as a $\Z$-module by $\{1,i\}$; moreover, $\{1,i\}$ is a [[Basis and Free Module|free module]] [[Basis and Free Module|basis]]! As a $\Z$-[[Algebra|algebra]], $\Z[i]$ is generated by $i$, but it is not a [[Free Algebra|free]] $\Z$-algebra, since $i^2 -1 = 0$.
(b) If $R$ is a ring and $x$ an indeterminate, the [[Algebra Finite|algebra-finite]] extension $R\subseteq R[x]$ is not [[Module Finite|module-finite]]. Indeed, $R[x]$ is a free $R$-module on the basis $\{1,x,x^2,x^3,\dots\}$.
(c) Another map that is *not* module-finite is the [[Inclusion Map|inclusion]] $R :=  k[x] \subseteq k[x,\frac{1}{x}] =: S$. First, note that any element of $k[x,\frac{1}{x}]$ can be written in the form $\frac{f(x)}{x^n}$ for some $f \in k[x]$ and some $n \geqslant 0$. Now any [[Finitely Generated Module|finitely generated]] $R$-submodule of $S$ is of the form $$M = \sum_i R \cdot \frac{f_i(x)}{x^{n_i}} = \sum_i k[x] \cdot \frac{f_i(x)}{x^{n_i}}.$$If $n :=  \max \{ n_i \}_i$, then $M \subseteq \frac{1}{x^n} k[x] \neq k[x,\frac{1}{x}] = S$.
(d) Even innocent looking examples can be quite complicated. For example, we claim that the extension $\Z \subseteq \Q$ is neither module-finite nor algebra-finite. To see that, we first claim that the set
$$P = \left\lbrace \frac{1}{p} \mid p \textrm{ prime integer} \right\rbrace$$
generates $\mathbb{Q}$ as a $\Z$-algebra. The key point here is the [[Mathematics/Number Theory/Results/Theorem – Fundamental Theorem of Arithmetic|Fundamental Theorem of Arithmetic]]: since any positive integer $n$ can be written as a product $n = p_1^{a_1} \cdots p_s^{a_s}$ where the $p_i$ are all [[Prime#$ defn$ – Prime (Integer)|prime]] and the $a_i \geqslant 0$ are nonnegative integers, we see that the rational number $\frac{m}{n} \neq 0$ can be written as
$$\frac{m}{n} = m \left( \frac{1}{p_1} \right)^{a_1} \cdots \left( \frac{1}{p_s} \right)^{a_s} \in \Z \left[ \frac{1}{p_1}, \ldots, \frac{1}{p_s} \right] \subseteq \Z[P].$$
On the other hand, note that any finite subset of $P$ is contained in
$$\left\lbrace \frac{1}{p} \mid p \leqslant q \textrm{ prime integer} \right\rbrace$$
for some fixed prime $q$, and that 
$$\Z \left[ \frac{1}{p} \mid p \leqslant q \textrm{ is prime} \right]$$
contains only rational numbers whose denominator is a product of primes smaller than $q$. But there are infinitely many primes, and thus this cannot be all of $\Q$. By this [[Lemma – Subsets of Generating Sets|Lemma]], we can conclude that $\Q$ is not a algebra-finite over $\Z$. But then $\Q$ cannot be module-finite over $\Z$ by this [[Lemma – Module Finite Implies Algebra Finite|Lemma]].
#### $\lem$ – Mod-Fin-Compose
![[Lemma – Mod-Fin-Compose]]
#### $\rem$
Let $A\subseteq B \subseteq C$ be rings. It follows from the definitions that $$\text{(a)}\quad\quad\quad
\begin{align*}
&A\subseteq B \,\,\text{algebra-finite}\\
&\quad \quad \quad \quad \text{and}\\
&B\subseteq C  \,\,\text{algebra-finite}
\end{align*} 
\Longrightarrow \hspace{2em} A\subseteq C \,\,\text{algebra-finite}
$$
$$\text{(b)}\quad\quad\quad\quad\quad A\subseteq C \,\text{algebra-finite} \Longrightarrow B\subseteq C \,\text{algebra-finite}.$$
#### $\ex$ – Infinitely Generated Subalgebra #eltypo 
Let $k$ be a field and $$B=k[x,xy,xy^2,xy^3,\cdots] \subseteq C=k[x,y],$$where $x$ and $y$ are indeterminates. While $B$ and $C$ are both $k$-[[Algebra|algebras]], $C$ is a [[Algebra Finite|finitely generated]] $k$-algebra, while $B$ is not. To see this, first note by this [[Lemma – Subsets of Generating Sets|Lemma]] it is sufficient to show that no finite subset of $\{ xy^n \mid n \geqslant 1 \}$ [[Generated Algebra|generates]] $B$ over $k$. Since any such subset is contained in $\{ xy^n \mid 1 \leqslant n \leqslant m \}$  for some fixed $m$m it is sufficient to show that $B$ is not $k[x,xy,\dots,xy^m]$ for any $m$. Now note that every element of $k[x,xy,\dots,xy^m]$ is a $k$-[[Linear Combination|linear combination]] of monomials $x^iy^j$ with $j \leqslant mi$, so this ring does not contain $xy^{m+1}$. Therefore, $B$ is not a finitely generated $A$-algebra.
#### $\rem$
Let $A\subseteq B \subseteq C$ be rings. It follows from the definitions that $$\text{(a)}\quad\quad\quad
\begin{align*}
&A\subseteq B \,\,\text{module-finite}\\
&\quad \quad \quad \quad \text{and}\\
&B\subseteq C  \,\,\text{module-finite}
\end{align*} 
\Longrightarrow \hspace{2em} A\subseteq C \,\,\text{module-finite}
$$
## Integral Extensions
#### $\defn$ – Integral Element / Extension
![[Integral Element]]
#### $\ex$ – Integral Elements in Z
Let's see some examples of elements that are [[Integral Element|integral]] over $\Z$, and others that are not. First, consider the $\Z$-[[Algebra|algebra]] $R = \Z[\sqrt{2}] = \{ a + b \sqrt{2} \mod a, b \in \Z \}$. #eltypo  The element $\sqrt{2}$ is integral over $\Z$, since it satisfies the equation of integral dependence $x^2-2 = 0$. 
On the other hand, $\frac{1}{2} \in \mathbb{Q}$ is not integral over $\mathbb{Z}$: if $a_0, \ldots, a_{n-1} \in \Z$ are such that $$\left( \frac{1}{2} \right)^n + a_{n-1} \left( \frac{1}{2} \right)^{n-1} + \cdots + a_0 = 0,$$then multiplying by $2^n$ gives $$1 + 2a_{n-1} + \cdots + 2^n a_0 = 0,$$which is impossible for parity reasons (the left hand-side is odd!). Notice, in contrast, that $\frac{1}{2}$ is [[Algebraic Element|algebraic]] over $\Z$, since it satisfies $2x-1=0$.
#### $\defn$ – Integral Closure
![[Integral Closure]]
#### $\defn$ – Normal Domain
![[Normal Domain]]
#### $\ex$ – Example Z Normal
The ring of integers $\mathbb{Z}$ is a [[Normal Domain|normal domain]], meaning its [[Integral Closure|integral closure]] in its [[Field of Fractions|fraction field]] $\mathbb{Q}$ is $\mathbb{Z}$ itself. The key idea to show this is similar to the argument we used in \Cref{example integral z} to show that $\frac{1}{2}$ is not integral over $\Z$.
#### Exercise – UFDs are Normal
Show that every [[Unique Factorization Domain|unique factorization domain]] is [[Normal Domain|normal]].
#### $\rem$
We cannot talk about the integral closure of a ring $R$ without specifying in what extension; the integral closures of $R$ in different extension can be very different. In \Cref{example integral z}, we saw that the integral closure of $\Z$ in $\Z[\sqrt{2}]$ contains at least $\Z$ and $\sqrt{2}$, while \Cref{example z normal} says that the integral closure of $\Z$ in $\Q$ is $\Z$.

When $R$ is a domain, if we ever refer to *the* integral closure of $R$, it is understood that we mean the integral closure of $R$ in its field of fractions, $\overline{R}$.
#### $\rem$
An element $r \in R$ is integral over $A$ if and only if $r$ is integral over the subring $\varphi(A)\subseteq R$, so we might as well assume that $\varphi$ is injective.
#### $\prop$ – F.G.-by-Intl-Modfin
![[Proposition – F.G.-by-Intl-Modfin]]
#### $\defn$ – Classical Adjoint
![[Classical Adjoint]]
#### $\lem$ – Determinantal Technique
![[Lemma – Determinantal Technique]]
#### $\thm$ – Module Finite Implies Integral
![[Theorem – Module Finite Implies Integral]]
#### $\cor$ – Characterization of Mod-Fin Alg-Fin Integral
![[Corollary – Characterization of Mod-Fin Alg-Fin Integral]]
#### $\cor$ – Extensions Gen by Integral Elements are Integral
![[Corollary – Extensions Gen by Integral Elements are Integral]]
#### $\cor$ – Integral Elements form Subring
![[Corollary – Integral Elements form Subring]]
#### $\ex$ – Integral but not Mod-Fin or Alg-Fin
(a) The ring $\mathbb{Z}[\sqrt{d}]$, where $d \in \mathbb{Z}$ is not a perfect square, is integral over $\mathbb{Z}$. Indeed, $\sqrt{d}$ satisfies the monic polynomial $x^2-d$, and since the integral closure of $\mathbb{Z}$ is a ring containing $\mathbb{Z}$ and $\sqrt{d}$, and $\mathbb{Z}[\sqrt{d}]$ is the smallest such ring, we conclude that every element in $\Z[\sqrt{d}]$ is integral over $\mathbb{Z}$.
(b) Let $R=\C[x,y] \subseteq S=\C[x,y,z]/(x^2+y^2+z^2)$. Then we claim that $S$ is module-finite over $R$, though to see this we first need to realize $R$ as a subring of $S$. To do that, consider the $\C$-algebra homomorphism $$\begin{CD}
R@>\varphi>> S\\\\
(x,y)@>>> (x,y)
\end{CD}$$The kernel of $\varphi$ consists of the polynomials in $x$ and $y$ that are multiples of $x^2+y^2+z^2$, but any nonzero multiple of $x^2+y^2+z^2$ in $\C[x,y,z]=R[z]$ must have $z$-degree at least $2$, which implies it involves $z$ and thus it is not in $\C[x,y]$. We conclude that $\varphi$ is injective, and thus $R \subseteq S$.

Now $S$ is generated over $R$ as an algebra by one element, $z$, and $z$ satisfies the monic equation $t^2 + (x^2+y^2) = 0$, so $S$ is integral over $R$.
#### $\ex$ – 
Let $k$ be a field, and consider the $k[x]$-algebra $R$ given by
$$k[x] \subseteq R=k[x,x^{1/2},x^{1/3},x^{1/4},x^{1/5},\ldots].$$ 
Note that $x^{1/n}$ satisfies the monic polynomial $t^n - x$, and thus it is integral over $k[x]$. Since $R$ is generated by elements that are integral over $k[x]$, by \Cref{extensions gen by integral elements are integral} it must be an integral extension of $A$. However, $k[x] \subseteq R$ is not algebra-finite, and thus it is also not module-finite.
#### Exercise – 
Given ring extensions $A \subseteq B \subseteq C$, the extensions $A \subseteq B$ and $B \subseteq C$ are integral if and only if $A \subseteq C$ is integral.
#### $\thm$ – Int Ext Domains Field
![[Theorem – Int Ext Domains Field]]
#### $\thm$ – Zariski's Lemma
![[Theorem – Zariski's Lemma]]
#### $\cor$ – Alg-Fin Ext of Alg Closed Field
![[Corollary – Alg-Fin Ext of Alg Closed Field]]
## Short Exact Sequences
#### $\defn$ – Exact Sequence
![[Exact Sequence]]
#### $\ex$ – 
Let $R = k[x]/(x^2)$, where $k$ is any field. The $R \xrightarrow{\, x\,} R$ has image and kernel $(x)$, so the following is an exact sequence:
$$\begin{CD}
\dots@>>>R@>x>>R@>x>>R@>>>\dots
\end{CD}$$
#### $\rem$
The sequence $$\begin{CD}
0@>>>M@>f>>N
\end{CD}$$is exact if and only if $f$ is injective. Similarly, $$\begin{CD}
M@>f>>N@>>>0
\end{CD}$$is exact if and only if $f$ is surjective. As a consequence, we see that $$\begin{CD}
0@>>>M@>f>>N@>>>0
\end{CD}$$is exact if and only if $f$ is an isomorphism.
Moreover,$$\begin{CD}
0@>>>A@>f>>B@>g>>C@>>>0
\end{CD}$$is a short exact sequence if and only if
- $f$ is injective
- $g$ is surjective
- $\im f=\ker g$
#### $\ex$ – 
The following is a short exact sequence of $\Z$-modules: $$\begin{CD}
0@>>>\Z@>2>>\Z@>>>\Zm 2@>>>0
\end{CD}$$Indeed, multiplication by $2$ on $\Z$ is injective, and its cokernel is $\Zm 2$. Another way to look at this is to notice that the kernel of the canonical projection map $\Z \to \Zm 2$ is the ideal generated by $2$, which is a free $\Z$-module with $1$ generator. The map $\Z \xrightarrow{\, 2 \,} \Z$ corresponds to the inclusion of that module in $\Z$.
#### $\rem$
Suppose that$$\begin{CD}
0@>>>M@>>>0
\end{CD}$$is an exact sequence. This means that the image of the zero map to $M$, which is the zero module, is the same as the kernel of the zero map from $M$, which is all of $M$. Thus saying that$$\begin{CD}
0@>>>M@>>>0
\end{CD}$$is exact is equivalent to saying that $M = 0$.
## Noetherian Rings
#### $\defn$ – Noetherian Ring
![[Mathematics/Commutative Algebra/Definitions/Noetherian Ring]]
#### $\prop$ – Noetherian Properties
![[Proposition – Noetherian Properties]]
#### $\rem$
When we say that every non-empty family of ideals has a maximal element, that maximal element does not have to be unique in any way. An ideal $I$ is maximal in the family $\mathcal{F}$ if $I \subseteq J$ for some $J \in \mathcal{F}$ implies $I = J$. However, we might have many incomparable maximal elements in $\mathcal{F}$. For example, every element in the family of ideals in $\mathbb{Z}$ given by $$\mathcal{F} = \lbrace (p) \mid p \textrm{ is a prime integer} \rbrace$$ is maximal.
#### $\rem$
If $R$ is a noetherian ring and $S$ is a non-empty set of ideals in $R$, not only does $S$ have a maximal element, but every element in $S$ must be contained in a maximal element of $S$. Given an element $I \in S$, the subset $T$ of $S$ of ideals in $S$ that contain $I$ is nonempty, and must then contain a maximal element $J$ by \Cref{Noetherian properties}. If $J \subseteq L$ for some $L \in S$, then $I \subseteq L$, so $L \in T$, and thus by maximality of $J$ in $T$, we must $J = L$. This proves that $J$ is in fact a maximal element in $S$, and by construction it contains $I$. 
#### $\ex$ – 
(a) If $R=k$ is a field, the only ideals in $k$ are $(0)$ and $(1)=k$, so $k$ is a noetherian ring.
(b) $\mathbb{Z}$ is a noetherian ring, since all ideals are principal. More generally, if $R$ is a PID, then $R$ is noetherian. Indeed, every ideal is finitely generated!
(c) As a special case of the previous example, consider the ring of germs of complex analytic functions near $0$, \index{$\C\{z\}$} \[\C\{z\} :=  \{ f(z) \in \C\llbracket z \Rbracket  \ | \ f \text{ is analytic on a neighborhood of $z=0$}\}.\] This ring is a PID: every ideal is of the form $(z^n)$, since any $f\in \C\{z\}$ can be written as $z^n g(z)$ for some $g(z)\neq 0$, and any such $g(z)$ is a unit in $\C\{z\}$.
(d) A ring that is \emph{not} noetherian is a polynomial ring in infinitely many variables over a field $k$, $R = k[x_1, x_2, \ldots]$: the ascending chain of ideals  $$(x_1)\subseteq (x_1,x_2) \subseteq (x_1,x_2,x_3) \subseteq \cdots$$does \emph{not} stabilize.
(e) The ring $R=K[x,x^{1/2},x^{1/3},x^{1/4},x^{1/5},\dots]$ is also \emph{not} noetherian. A nice ascending chain of ideals is
\[ (x) \subsetneq (x^{1/2}) \subsetneq (x^{1/3})\subsetneq (x^{1/4}) \subsetneq \cdots.\]
(f) The ring of continuous real-valued functions $\mathcal{C}(\R,\R)$\index{$\mathcal{C}(\R,\R)$} is \emph{not} noetherian: the chain of ideals 
$$I_{n}=\{ f(x) \in \mathcal{C}(\R,\R) \ | \ f|_{[-1/n,1/n]}\equiv 0 \}$$
is increasing and proper. The same construction shows that the ring of infinitely differentiable real functions $\mathcal{C}^{\infty}(\R,\R)$\index{$\mathcal{C}^{\infty}(\R,\R)$} is not noetherian: properness of the chain follows from, e.g., Urysohn's lemma (though it's not too hard to find functions distinguishing the ideals in the chain). Note that if we asked for analytic functions instead of infinitely-differentiable functions, every element of the chain would be the zero ideal!
#### $\lem$ – Quotient Noetherian
![[Lemma – Quotient Noetherian]]
#### $\defn$ – Noetherian Module
![[Noetherian Module]]
#### $\prop$ – Equivalent Definitions for Noetherian Module
![[Proposition – Equivalent Definitions for Noetherian Module]]
#### $\rem$
The submodules of a ring are its ideals. Thus a ring $R$ is a noetherian ring if and only if $R$ is noetherian as a module over itself. However, a noetherian ring need not be a noetherian module over a subring. For example, consider $\Z\subseteq \Q$. These are both noetherian \emph{rings}, but $\Q$ is not a noetherian $\Z$-module; for example, the following is an ascending chain of submodules which does not stabilize:
$$0 \subsetneq \frac{1}{2} \Z \subsetneq \frac{1}{2} \Z + \frac{1}{3} \Z \subsetneq \frac{1}{2} \Z + \frac{1}{3} \Z + \frac{1}{5} \Z \subsetneq \cdots .$$
#### $\lem$ – Noetherianity in exact sequences
![[Lemma – Noetherianity in Exact Sequences]]
#### $\cor$ – Direct Sums are Noetherian
![[Corollary – Direct Sums are Noetherian]]
#### $\cor$ – Module Powers are Noetherian
![[Corollary – Module Powers are Noetherian]]
#### $\prop$ – Noetherian F.G.
![[Proposition – Noetherian F.G.]]
#### $\rem$ #eltypo 
The notherianity hypothesis is important: if $R$ is a non-noetherian ring and $M$ is a finitely generated $R$-module, $M$ might not be noetherian. For a dramatic example, note that $R$ itself is a finitely generated $R$-module, but not noetherian.
#### $\thm$ – Hilbert’s Basis Theorem
![[Theorem – Hilbert’s Basis Theorem]]
#### $\rem$
We can rephrase \hyperref[hilbert basis]{Hilbert's Basis Theorem} in a way that can be understood by anyone with a basic high school algebra (as opposed to abstract algebra) knowledge:
	
\begin{center}Any system of polynomial equations in finitely many variables can be written in terms of finitely many equations.\end{center}
#### $\cor$ – F.G. Algebras over Noeth Rings and Noeth
![[Corollary – F.G. Algebras over Noeth Rings and Noeth]]
#### $\thm$ – Artin-Tate Lemma
![[Theorem – Artin-Tate Lemma]]
## An Application to Invariant Rings
#### Question – 
Given a (finite) set of symmetries, consider the collection of polynomial functions that are fixed by all of those symmetries. Can we describe all the fixed polynomials in terms of finitely many of them?
#### Question – 
Given a finite group $G$ acting on $R=k[x_1,\dots,x_d]$, is $R^G$ a finitely generated $k$-algebra?
#### $\ex$ – Root of Unity Invariants
Consider the group with two elements $G=\{e,g\}$. To define an action of $G$ on $R=k[x]$, we need only to define $g \cdot x$, since $e$ is the identity and $g$ acts linearly. Consider the action of $G$ on $R=k[x]$ given by $g \cdot x = -x$, so $g \cdot f(x) = f(-x)$. Suppose that the characteristic of $k$ is not 2, so $-1 \neq 1$. Write $f= a_n x^n + a_{n-1} x^{n-1} + \cdots + a_0$.  We have $g \cdot x^i=(-x)^i = (-1)^i x^i$, so $$ g\cdot f = (-1)^n a_n x^n+ (-1)^{n-1} a_{n-1} x^{n-1} +  \cdots  + a_0,$$which differs from $f$ unless for each odd $i$, $a_i=0$. That is,
\[ R^G = \{ f \in R \ | \ \text{every term of $f$ has even degree}\}.\]
Any such $f$ is a polynomial in $x^2$, so we have $$R^G = k[x^2].$$In particular, $R^G$ is a finitely generated $k$-algebra.
#### Exercise – 
Generalize the last example as follows: let $k$ be a field with a primitive $d$th root of unity $\zeta$, and let $G= \langle g \rangle \cong C_d$ act on $R = k[x_1,\dots,x_n]$ via $g \cdot x_i = \zeta x_i$ for all $i$. Then $$R^G = \{ f \in R \ | \ \text{every term of $f$ has degree a multiple of $d$}\} = k[\{ \text{monomials of degree d}\}].$$
This what is known as the Veronese subring of $R$ of degree $d$.
#### $\ex$ – Standard Representation of the Symmetric Group
Let $S_n$\index{$S_n$} be the symmetric group on $n$ letters acting on $R=k[x_1,\dots,x_n]$ via $\sigma(x_i)=x_{\sigma(i)}$. For example, if $n=3$, then $f=x_1^2+x_2^2+x_3^2$ is invariant, while $g=x_1^2+x_1x_2+x_2^2+x_3^2$ is not, since swapping 1 with 3 gives a different polynomial.

You may recall the Fundamental Theorem of Symmetric Polynomials says that every element of $R^{S_n}$ can be written as polynomial expression in the elementary symmetric polynomials 	
\begin{eqnarray*}
	e_1 =&x_1+\dots +x_n\\
	e_2 =&\sum x_i x_j\\
	\vdots \\
	e_n =&x_1x_2\cdots x_n.
\end{eqnarray*}
More precisely, $R^{S_n} = k[e_1, \ldots, e_n]$. For example, $f$ above is $e_1^2-2 e_2$. In fact, any symmetric polynomial can be written like so in a \emph{unique} way, so $R^{S_n}$ is a free $k$-algebra. So even though we have infinitely many invariant polynomials, we can understand them in terms of only finitely many of them, which are \emph{fundamental} invariants. 
#### $\prop$ – Group Ring and Automorphisms Mod-Fin
![[Proposition – Group Ring and Automorphisms Mod-Fin]]
#### $\thm$ – Noether’s Finiteness Theorem
![[Theorem – Noether’s Finiteness Theorem]]
# Graded Rings
## Graded Rings
#### $\defn$ – Graded Ring
![[Graded Ring]]
#### $\lem$ – Graded Ring Properties
![[Lemma – Graded Ring Properties]]
#### $\ex$ – 
(a) Any ring $R$ is trivially an $\N$-graded ring, by setting $R_0 = R$ and $R_n = 0$ for $n \neq 0$.
(b) If $k$ is a field and $R=k[x_1,\dots,x_n]$ is a polynomial ring, there is an $\N$-grading on $R$ called the {\bf standard grading}\index{standard grading} where $R_d$ is the $k$-vector space with basis given by the monomials of total degree $d$, meaning those of the form $x_1^{\alpha_1}\cdots x_n^{\alpha_n}$ with $\sum_i \alpha_i =d$. For example, $x_1^2+x_2x_3$ is homogeneous in the standard grading, while $x_1^2+x_2$ is not.
(c) If $k$ is a field, and $R=k[x_1,\dots,x_n]$ is a polynomial ring, we can give different $\N$-gradings on $R$ by fixing some tuple $(\beta_1,\dots,\beta_n)\in \N^n$ and letting $x_i$ be a homogeneous element of degree $\beta_i$; we call this a grading with \emph{weights}\index{weights} $(\beta_1,\dots,\beta_n)$.

For example, in $k[x_1,x_2]$, $x_1^2+x_2^3$ is not homogeneous in the standard grading, but it is homogeneous of degree $6$ under the $\mathbb{N}$-grading with weights $(3,2)$.
(d) A polynomial ring $R = k[x_1, \ldots, x_n]$ also admits a natural $\N^n$-grading: the grading with $R_{(d_1,\dots,d_n)}= k \cdot x_1^{d_1}\cdots x_n^{d_n}$. This is called the {\bf fine grading}
(e) Let $\Gamma \subseteq \mathbb{N}^n$ be a subsemigroup of $\mathbb{N}^n$. Then $$\bigoplus_{\gamma \in \Gamma} k \cdot \vx ^ {\gamma} \subseteq k[\vx] = k[x_1, \ldots, x_n]$$is an $\mathbb{N}^n$-graded subring of $k[x_1,\dots,x_n]$ with the fine grading. Moreover, every $\N^n$-graded subring of $k[x_1,\dots,x_n]$ is of this form.
#### $\rem$
You may have seen the term \emph{homogeneous polynomial} used to refer to a polynomial $f(x_1, \ldots, x_n) \in k[x_1, \ldots, x_n]$ that satisfies 
$$f(\lambda x_1, \ldots, \lambda x_n) = \lambda^d f(x_1, \ldots, x_n)$$for all $\lambda \in k$ and some fixed $d$. This is equivalent to saying that all the terms in $f$ have the same total degree $d$, or that $f$ is homogeneous with respect to the standard grading.

Similarly, a polynomial is \emph{quasi-homogeneous}, \index{quasi-homogeneous polynomial} or \emph{weighted homogeneous}, if there exist integers $w_1, \ldots, w_n$ such that the sum $d = a_1 w_1 + \cdots + a_n w_n$ is the same for all monomials $x_1^{a_1} \cdots x_n^{a_n}$ appearing in $f$. So $f$ satisfies
$$f(\lambda^{w_1} x_1, \ldots, \lambda^{w_n} x_n) = \lambda^{d} f(x_1, \ldots, x_n),$$for all $\lambda \in k$ and $f(x_1^{w_1}, \ldots, x_n^{w_n})$ is homogeneous (in the previous sense, so with respect to the standard grading). 

This condition is equivalent to asking that $f$ be homogeneous with respect to some weighted grading on $k[x_1, \ldots, x_n]$.
#### $\ex$ – Quasi-Homogeneous
In $k[x,y,z]$, the element $x^2+y^3+z^5$ is not homogeneous in the standard grading, but it is homogeneous (of degree 30) if we set $\deg(x) = 15$, $\deg(y)=10$, and $\deg(z)=6$. This tells us that $x^2+y^3+z^5$ is quasi-homogeneous; it is homogeneous with respect to the weights $(15,10,6)$. Indeed,
$$(\lambda^{15}x)^2+(\lambda^{10}y)^3+(\lambda^6z)^5 = \lambda^{30}(x^2+y^3+z^5).$$
#### $\defn$ – Homogeneous Ideal
![[Homogeneous Ideal]]
#### $\lem$ – Homogeneous Equivalent Definition
![[Lemma – Homogeneous Equivalent Definition]]
#### $\ex$ – 
Given an $\N$-graded ring $R$, then $R_+=\bigoplus_{d>0} R_d$ is a homogeneous ideal.
#### $\lem$ – Quotients of Graded Rings
![[Lemma – Quotients of Graded Rings]]
#### $\ex$ – 
(a) The ideal $I = (w^2x+wyz+z^3,x^2+3xy+5xz+7yz+11z^2)$ in $R=k[w,x,y,z]$ is homogeneous with respect to the standard grading on $R$, and thus the ring $R/I$ admits an $\N$-grading with $|w|=|x|=|y|=|z|=1$.
(b) The ring $R=k[x,y,z]/(x^2+y^3+z^5)$ does not admit a grading with $|x|=|y|=|z|=1$, but by \Cref{example quasihom} it does admit a grading with $|x|=15,|y|=10,|z|=6$.
#### $\defn$ – T-Graded
![[Graded Module]]
#### $\defn$ – Graded Ring Homomorphism
![[Graded Ring Homomorphism]]
#### $\defn$ – Graded Module Homomorphism
![[Graded Module Homomorphism]]
#### $\ex$ – Shift
(a) Consider the ring map $k[x,y,z]\to k[s,t]$ given by $x\mapsto s^2, y\mapsto st, z\mapsto t^2$. If $k[s,t]$ has the fine grading, meaning $|s|=(1,0)$ and $|t|=(0,1)$, then the given map is degree preserving if and only if $k[x,y,z]$ is graded by 
$$|x|=(2,0), |y|=(1,1), |z|=(0,2).$$
(b) Let $k$ be a field, and let $R=k[x_1,\dots,x_n]$ be a polynomial ring with the standard grading. Given $c\in k=R_0$, the homomorphism of $R$-modules $R\to R$ given by $f\mapsto cf$ is degree preserving. However, if instead we take $g\in R_d$ for some $d>0$, then the map 
$$\begin{CD}
R@>>> R\\\\
f@>>> gf
\end{CD}$$
is not degree preserving, although it is a graded map of degree $d$. We can make this a degree-preserving map if we shift the grading on $R$ by defining $R(-d)$ to be the $R$-module $R$ but with the $\Z$-grading given by $R(-d)_t=R_{t-d}$. With this grading, the component of degree $d$ of $R(-d)$ is $R(-d)_d=R_0=k$. Now the map 
$$\begin{CD}
R(-d)@>>> R\\\\
f@>>> gf
\end{CD}$$
is degree preserving.
## Finite Conditions for Graded Algebras
#### $\prop$ – Graded F.G. Algebra
![[Proposition – Graded F.G. Algebra]]
#### $\cor$ – Characterization of Noetherian Graded Rings
![[Corollary – Characterization of Noetherian Graded Rings]]
## Another Application to Invariant Rings
#### $\defn$ – Direct Summand
![[Direct Summand]]
#### $\rem$
The subring $R$ of $S$ is a direct summand of $S$ if and only if there exists an $R$-submodule of $S$ such that $S = R \oplus M$. In the language above, $M = \ker \rho$. Conversely, given a direct sum decomposition $S = R \oplus M$, the quotient map onto the first component is a splitting.
#### Notation
Let $\varphi\! : R \to S$ be a ring homomorphism. Given an ideal $I$ in $S$, we write $I \cap R$ for the {\bf contraction} of $R$ back into $R$, meaning the preimage of $I$ via $\varphi$. In particular, if $R \subseteq S$ is a ring extension, then $I \cap R$ denotes the preimage of $I$ via the inclusion map $R \subseteq S$.\index{$I \cap R$}\index{contraction}Given a ring map $R \to S$, and an ideal $I$ in $R$, the {\bf expansion} of $I$ in $S$ is the ideal of $S$ generated by the image of $I$ via the given ring map; we naturally denote this by $IS$.\index{expansion of an ideal}\index{$IS$}
#### $\lem$ – Direct Summand of Ideals Contract
![[Lemma – Direct Summand of Ideals Contract]]
#### $\prop$ – Direct Summand Noetherian
![[Proposition – Direct Summand Noetherian]]
#### $\ex$ – 
Notice in general a subring of a noetherian ring does not have to be noetherian. For example, if $k$ is a field, $S = k[x,y]$ is noetherian by \hyperref[hilbert basis]{Hibert's Basis Theorem}, but we claim that the subring $$R = k[xy,xy^2,xy^3,\ldots]$$of $S = k[x,y]$ is not noetherian. Indeed,$$(xy) \subseteq (xy,xy^2) \subseteq (xy,xy^2,xy^3) \subseteq \cdots$$is an ascending chain of ideals of $R$ that does not stabilize. Notice that if we considered the same chain of ideals in $S$, then it does stabilize, and in fact it is the constant chain $(xy)$. 
#### $\prop$ – K-Linear Action and Direct Summand
![[Proposition – K-Linear Action and Direct Summand]]
#### $\rem$
The condition that the characteristic of $k$ does not divide the order of $G$ is trivially satisfied if $k$ has characteristic zero.
#### $\thm$ – Hilbert's Finiteness Theorem for Invariants
![[Theorem – Hilbert's Finiteness Theorem for Invariants]]
# Primes
## Prime and Maximal Ideals
#### $\defn$ – Prime Ideal
![[Prime Ideal]]
#### Exercise – 
An ideal $P$ in a ring $R$ is prime if and only if $R/P$ is a domain. In particular, $(0)$ is a prime ideal if and only if $R$ is a domain.
#### $\ex$ – 
The prime ideals in $\mathbb{Z}$ are those of the form $(p)$ for $p$ a prime integer, and~$(0)$.
#### $\ex$ – 
When $k$ is a field, prime ideals in $k[x]$ are easy to describe: $k[x]$ is a principal ideal domain, and $(f)\neq 0$ is prime if and only if $f$ is an irreducible polynomial. Moreover, $(0)$ is also a prime ideal, since $k[x]$ is a domain.
#### $\ex$ – 
Let $k$ be a field. The ideal $P = (x^3-y^2)$ in $R=k[x,y]$ is prime: one can show that $R/P \cong k[t^2,t^3] \subseteq k[t]$, which is a domain.
#### $\defn$ – Maximal Ideal
![[Maximal Ideal]]
#### Exercise – 
An ideal $\m$ in $R$ is maximal if and only if $R/ \m$ is a field.
#### $\defn$ – Residue Field
![[Residue Field]]
#### $\rem$
A ring may have many different residue fields. For example, the residue fields of $\mathbb{Z}$ are all the finite fields with a prime numbers of elements, $\mathbb{F}_p \cong \mathbb{Z}/p$.
#### Exercise – 
Every maximal ideal is prime.
#### $\thm$ – Every Ideal Contained in a Maximal Ideal
![[Theorem – Every Ideal Contained in a Maximal Ideal]]
#### $\thm$ – Zorn's Lemma
![[Theorem – Zorn's Lemma]]
## The Spectrum of a Ring
#### $\defn$ – Prime Spectrum
![[Prime Spectrum]]
#### $\defn$ – V(I)
![[V(I)]]
#### $\prop$ – Properties of V
![[Proposition – Properties of V]]
#### Exercise – 
Note that $\Spec(R)$ is also a poset under inclusion. Show that the poset structure of $\Spec(R)$ can be recovered from the topology as follows: 
$$P \subseteq Q \quad \Leftrightarrow \quad Q \in \overline{\{ P \}}.$$
#### $\ex$ – 
The spectrum of $\mathbb{Z}$ is, as a poset:
\[ \xymatrix@C-1pc{ &&&& & (2) &  & (3) &  & (5) & & (7) & & (11) & & \cdots &&&&& \\ 
&&&& &  & &  & &  & (0)\ar@{-}[lllllu] \ar@{-}[lllu] \ar@{-}[lu] \ar@{-}[ru] \ar@{-}[rrru] \ar@{=}[rrrrru] &&&&& &&&&& }\]
The closed sets are of the form $V((n))$, which are the whole space when $n=0$, the empty set when $n=1$, and any finite union of things in the top row. Any closed set that contains $(0)$ must be all of $\Spec(\Z)$.
#### $\defn$ – Radical Ideal
![[Mathematics/Commutative Algebra/Definitions/Radical Ideal]]
#### $\prop$ – Radical Ideal is an Ideal
![[Proposition – Radical Ideal is an Ideal]]
#### $\defn$ – Reduced Ring
![[Reduced Ring]]
#### $\rem$
An ideal $I$ in $R$ is radical if and only if $R/I$ is reduced.
#### $\lem$ – V and Radical Ideals
![[Lemma – V and Radical Ideals]]
#### $\lem$ – Preimage of Prime is Prime
![[Lemma – Preimage of Prime is Prime]]
#### $\defn$ – Induced Map on $\Spec$
![[Induced Map on Spec]]
#### $\rem$
We observe that this is not only an order-preserving map, but also it is continuous: if $U\subseteq \Spec(R)$ is open, we have $U=\Spec(R) \setminus V(I)$ for some ideal $I$; then for a prime $Q$ of $S$,
$$Q \in (\varphi^*)^{-1}(U) \quad \Longleftrightarrow \quad Q \cap R \not\supseteq I  \quad \Longleftrightarrow  \quad Q \not\supseteq IS  \quad \Longleftrightarrow  \quad Q \notin V(IS).$$
So $(\varphi^*)^{-1}(U)$ is the complement of $V(IS)$, and thus open.
#### $\defn$ – Minimal Prime
![[Minimal Prime]]
#### $\lem$ – Every Prime Contains Minimal Prime
![[Lemma – Every Prime Contains Minimal Prime]]
#### $\defn$ – Multiplicatively Closed
![[Multiplicatively Closed Set]]
#### $\lem$ – Spec Strong Nullstellensatz
![[Lemma – Spec Strong Nullstellensatz]]
#### $\thm$ – Spectrum Analogue of Strong Nullstellensatz
![[Theorem – Spectrum Analogue of Strong Nullstellensatz]]
#### $\ex$ – 
Let $k$ be a field, $R = k[x]$, and $I = (x^2)$. On the one hand, it is immediate form the definition that $x \in \sqrt{I}$, and thus $(x) \subseteq \sqrt{I}$. On the other hand, $(x)$ is a prime ideal that contains $I$, and thus by \Cref{spectrum analogue nullstellensatz} we must have $\sqrt{I} = (x)$.
#### $\cor$ – V(I)=V(J) iff Radicals are Equal
![[Corollary – V(I)=V(J) iff Radicals are Equal]]
#### Exercise – 
Let $I$ and $J$ be ideals in a ring $R$.
(a) Show that $\sqrt{\sqrt{I}} = \sqrt{I}$.
(b) Show that if $I \subseteq J$, then $\sqrt{I} \subseteq \sqrt{J}$.
(c) Show that $\sqrt{I \cap J} = \sqrt{I} \cap \sqrt{J}$.
(d) Show that $\sqrt{I^n} = \sqrt{I}$ for all $n \geqslant 1$.
(e) Show that if $P$ is a prime ideal, then $\sqrt{P^n} = P$ for all $n \geqslant 1$.
## Prime Avoidance
#### $\lem$ – Prime Avoidance
![[Lemma – Prime Avoidance]]
#### $\thm$ – Stronger Prime Avoidance
![[Theorem – Stronger Prime Avoidance]]
# Affine Varieties
#### Question – 
Let $k$ be a field. To what extent is a system of polynomial equations
$$\left\lbrace\begin{array}{c}
		f_1 = 0 \\
		\vdots \\
		f_t = 0
	\end{array}\right.$$
with $f_1, \ldots, f_t \in k[x_1, \ldots, x_d]$ determined by its solution set?
## Varieties
#### $\defn$ – Affine Space
Given a field $k$, the {\bf affine $d$-space over $k$}\index{affine space}, denoted $\A^d_k$, is the set
$$\A^d_k :=  \{(a_1,\ldots,a_d) \mid a_i\in k\}.$$
#### $\defn$ – Zero Locus
For a subset $T$ of $k[x_1, \dots,  x_d]$, we define $\mathcal{Z}(T) \subseteq \A^d_k$ to be the set of common zeros or the {\bf zero set} of the polynomials (equations) in $T$: \index{$\mathcal{Z}(X)$} 
$$\mathcal{Z}(T) :=  \{(a_1, \dots, a_d) \in \A^d_k \mid f(a_1, \dots, a_d) = 0 \text{ for all $f \in T$}\}.$$
A subset of $\A^d_k$ of the form $\mathcal{Z}(T)$ for some subset $T$ is called an {\bf algebraic subset}\index{algebraic set} of $\A^d_k$, or an {\bf affine algebraic variety}\index{affine algebraic variety}\index{algebraic variety}\index{variety}. A variety is {\bf irreducible} if it cannot be written as the union of two proper subvarieties.
#### $\rem$
Some authors use the word \emph{variety} to refer only to irreducible algebraic sets. Note also that the definitions given here are only completely standard when $k$ is algebraically closed.
#### $\rem$
Note that if $L \supseteq k$ are both fields, any polynomial $f\in k[x_1,\dots,x_n]$ is also an element of $L[x_1,\dots,x_n]$, and we can evaluate it at any point in $\A^n_L$. Thus, we may write $\mathcal{Z}_k(T)$ \index{$\mathcal{Z}_k(T)$} or $\mathcal{Z}_L(T)$ to distinguish between the zero sets over different fields.
#### $\prop$ – Properties of Z
Let $k$ be a field and $R=k[x_1, \dots,x_n]$. Let $S, T \subseteq R$ be arbitrary subsets.
(a) If $S \subseteq T$, then $\mathcal{Z}(S) \supseteq \mathcal{Z}(T)$.
(b) If $I = (S)$ is the ideal generated by $S$, then $\mathcal{Z}(S) = \mathcal{Z}(I)$.

##### *Proof.*
First, note that imposing more equations can only lead to a smaller the solution set, which gives (1).
For (2), we have $\cZ(I) \subseteq \cZ(S)$ by (1). On the other hand, if $f_1,\dots,f_m\in S$ and $r_1,\dots,r_m\in R$, and $(a_1,\dots,a_n)\in \cZ(S)$, then $f_i(a_1,\dots,a_n)=0$ for all $i$. Therefore,
$$(\sum_i r_i f_i)(a_1,\dots,a_n) = \sum_i r_i(a_1,\dots,a_n) f_i(a_1,\dots,a_n) = 0,$$ 
so $(a_1,\dots,a_n)\in \cZ(\sum_i r_i f_i)$. Thus, $(a_1,\dots,a_n)\in \cZ(I)$. That is, $\cZ(S) \subseteq \cZ(I)$.*
#### $\ex$ – 
Let $k$ be a field and $R = k[x]$. The varieties $\cZ(x)$ and $\cZ(x^2)$ are both the singleton given by the origin $\{ 0 \}$ of $\A^1_k$, even though the ideals $(x)$ and $(x^2)$ are distinct.
#### $\prop$ – Properties of Z Topology
Let $k$ be a field and $R=k[x_1, \dots,x_n]$. Let $I, I_\lambda, J\subseteq R$ be ideals in $R$.
(a) $\mathcal{Z}(R) = \mathcal{Z}(1) = \varnothing$ and $\mathcal{Z}(0) = \A^n_k$.
(b) $\bigcap_{\lambda \in \Lambda} \mathcal{Z}(I_\lambda) = \displaystyle \mathcal{Z} ( \sum_{\lambda \in \Lambda} I_\lambda)$.
(c) $\displaystyle \cZ \left( I \cap J \right) = \cZ( IJ ) = \cZ(I) \cup \cZ(J)$.
##### *Proof.*
(1) is clear, since $1$ is never equal to zero and $0$ is always zero. 

Let's now show (2). Given sets $S_\lambda \subseteq T$, a point is a solution to all of the equations in each set $S_\lambda$ if and only if it is a solution of each set of equations $S_\lambda$. Therefore,
$$\displaystyle \mathcal{Z} (\bigcup_{\lambda \in \Lambda} S_\lambda)=\bigcap_{\lambda \in \Lambda} \mathcal{Z}(S_\lambda).$$
Given ideals $I_\lambda$, $\sum_{\lambda \in \Lambda} I_\lambda$ is the ideal generated by $\bigcup_{\lambda\in\Lambda} I_\lambda$, and thus
\[ \cZ(\sum_{\lambda \in \Lambda} I_\lambda) =  \cZ(\bigcup_{\lambda \in \Lambda} I_\lambda) = \bigcap_{\lambda \in \Lambda} \cZ(I_\lambda).\]

To show (3), first consider subsets $S, T \subseteq R$. We claim that
$$\cZ(S) \cup \cZ(T) \subseteq \cZ(\{fg \ | \ f\in S,  g\in T\}).$$ 
Indeed, $f(a_1,\dots,a_n)=0$ for all $f\in S$ implies $f(a_1,\dots,a_n) g(a_1,\dots,a_n)=0$ for all $f\in S$ and all $g\in T$. On the other hand, if $(a_1,\dots,a_n)\notin \cZ(S) \cup \cZ(T)$, then there is some $f\in S$ and some $g\in T$ with $f(a_1,\dots,a_n) \neq 0$ and $g(a_1,\dots,a_n)\neq 0$, so $f(a_1,\dots,a_n) g(a_1,\dots,a_n)\neq 0$. Therefore,
$$\cZ(S) \cup \cZ(T) \subseteq \cZ(\{fg \ | \ f\in S,  g\in T\}).$$ 
Now given ideals $I$ and $J$, since $IJ \subseteq I \cap J \subseteq I$ and $I \cap J \subseteq J$), by (1) we get
$$\cZ(I) \cup \cZ(J) \subseteq \cZ(I \cap J) \subseteq  \cZ(IJ).$$ 
On the other hand, by (2) and (4) we get
$$\cZ(IJ) \subseteq \cZ( \{ fg \ | \ f\in I , g\in J\}) = \cZ(I) \cup \cZ(J),$$
so the equalities hold throughout.
#### $\defn$ – Zariski Topology
Let $k$ be a field. The collection of subvarieties $X \subseteq \A^n_k$ is the collection of closed subsets in a topology on $\A^n_k$. This is called the \df{Zariski topology} on $\A^n_k$. Any subvariety of $\A^n_k$ obtains a {\bf Zariski topology} as the subspace topology from $\A^n_k$.
#### $\ex$ – 
Let $k$ be an infinite field. The closed subsets in the Zariski topology on $\A^1_k$ are just the finite subsets, along with the whole space. Note that this topology is not Hausdorff; quite on the contrary, any two nonempty open sets have infinite intersection!
#### $\defn$ – Vanishing Set
Given any subset $X$ of $\A^d_k$ for a field $k$, define 
$$
\mathcal{I}(X) = \{g(x_1, \dots, x_d) \in k[x_1, \dots, x_d] \mid g(a_1, \dots, a_d) = 0 \text{ for all $(a_1, \dots, a_d) \in X$} \}. 
$$
#### Exercise – 
$\mathcal{I}(X)$ is an ideal in $k[x_1, \ldots, x_d]$ for any $X \subseteq \A^d_k$.
#### $\ex$ – 
For any field $k$, we have $\mathcal{I}((a_1, \dots, a_d))  = (x_1 - a_1, \dots, x_d - a_d)$. 
#### $\rem$
For a subset $X\subseteq \A^n_K$ and a subset $S \subseteq K[x_1,\dots,x_n]$, we have 
$$X \subseteq \cZ(S) \Longleftrightarrow \text{each $s\in S$ vanishes at each $x\in X$} \Longleftrightarrow S \subseteq \cI(X).$$
#### $\thm$ – Properties of Vanishing Set
Let $k$ be a field, and $X,X_\lambda,Y$ be subsets of $\A^n_k$.
(a)  $\cI(\varnothing) = R$ and, if $k$ is infinite, $\cI(\A^n_k) =  0$.
(b) If $X \subseteq Y$, then $\cI(X) \supseteq \cI(Y)$.
(c) $\cI(X)$ is a radical ideal.

##### *Proof.*
For (1), it is clear that $\cI(\varnothing) = R$. Now assume $k$ is infinite. We show by induction on $n$ that any nonzero polynomial in  $k[x_1,\dots,x_n]$ is nonzero at some point in $\A^n_k$. The case $n=1$ is standard: a polynomial in $k[x]$ of degree $d$ can have at most $d$ roots --- in particular, it cannot have infinitely many roots. Let $n \geqslant 2$ and let $f(x_1,\dots,x_n)\in k[x_1,\dots,x_n]$ be a nonzero polynomial. If $f$ is a nonzero constant, it is nonzero at any point. Otherwise, we can assume that $f$ nontrivally involves some variable, say $x_n$. Write
$$f(x_1,\dots,x_n) = f_d(x_1,\dots,x_{n-1}) x_n^d + \cdots + f_0(x_1,\dots,x_{n-1}).$$
If $f$ is identically zero, then for every $(a_1,\dots,a_{n-1})\in \A^{n-1}_k$, 
$$f_d(a_1,\dots,a_{n-1}) x_n^d + \cdots + f_0(a_1,\dots,a_{n-1})$$
is a polynomial in one variable that is identically zero, so it is the zero polynomial. Thus each $f_i(a_1,\dots,a_{n-1})$ is identically zero. Since this holds for all $(a_1,\dots,a_{n-1})\in \A^{n-1}_k$, by the induction hypothesis we conclude that each $f_i$ is the zero polynomial. Therefore, $f(x_1,\dots,x_n)$ is the zero polynomial, as required.

(2) is clear from the definition of $\cI$.

For (3), note that $f,g\in \cI(X)$ and $r\in R$ implies $X\subseteq \cZ(f,g)$ implies $X \subseteq \cZ(rf+g)$ implies $rf+g \in \cI(X)$, so $\cI(X)$ is an ideal. If $f^t\in \cI(X)$, then $f(a_1,\dots,a_n)^t=0$ for all $(a_1,\dots,a_n)\in X$, so $f(a_1,\dots,a_n)=0$ for all $(a_1,\dots,a_n)\in X$, and $f\in \cI(X)$.
## The Coordinate Ring of a Variety
#### $\defn$ – Morphism of Varieties
Suppose $X$ is a subvariety of $\mathbb{A}^m_k$ and $Y$ is a subvariety of $\mathbb{A}^n_l$. A {\bf morphism of varieties}\index{morphism of varieties} or {\bf algebraic map}\index{algebraic map} or {\bf regular map}\index{regular map} from $X$ to $Y$ is a function $\phi: X \to Y$ defined coordinatewise by polynomials $g_1, \dots, g_n\in k[x_1, \dots, x_m]$, that is 
$$\phi(a_1, \dots, a_m) = (g_1(a_1, \dots, a_m), \dots, g_n(a_1, \dots, a_m)) \text{ for all } \bf{a} \in X.$$
A morphism of varieties $\phi: X \to Y$ is an {\bf isomorphism}\index{isomorphism of varieties} if there is some morphism of varieties $\phi: Y \to X$ such that $\phi\circ \psi = \id_Y$ and $\psi \circ \phi = \id_X$.  
#### $\ex$ – 
(a) Let $k$ be an infinite field. Consider $X = \cZ(xy -1) \subseteq \A^2_k$ (i.e., $X$ is a hyperbola) and define $\phi: X \to \A^1_k$ by $\phi(a,b) = a$. Then $\phi$ is an algebraic map (indeed, it is given by a linear polynomial) and its image is $\A^1_k \setminus \{0\}$, which is {\em not} an algebraic subset of $\A^1_k$. So the set-theoretic image of a morphism of varieties need not be a variety.
(b) Take an infinite field, and  let $Y$ be the classical cuspidal curve\index{cuspidal curve}:
$$Y = \cZ(y^2 - x^3) \subseteq \A^2_k.$$Define
$$\phi: \A^1_K \to Y \quad \phi(t) = (t^2, t^3).$$

This $\phi$ is an algebraic map from $\A^1_K$ to $Y$, since the component functions are polynomial functions of $t$ and $(t^3)^2 - (t^2)^3 = 0$ for all $t$.

Note that this $\phi$ is a bijection of sets. However, it is not an isomorphism. Indeed, if it were, we would have some map $\psi$ such that $\psi\circ \phi = \mathrm{id}_{\A^1_K}$. This $\psi$ would be given by a polynomial $h$ in two variables such that $h(t^2,t^3) = t$. It is easy to see that no such $h$ exists.
(c) Consider $\A^6_k$ as the space of $2 \times 3$ matrices over $K$ with coordinates $x_{11},\dots,x_{23}$, and consider $\A^5_K$ as the space of pairs of $2 \times 1$ and $1\times 3$ matrices over $K$ with coordinates $y_1,y_2, z_1,z_2,z_3$. The map of matrix multiplication from $\A^5_k$ to $\A^6_k$ is a regular map:
$$(y_1,y_2,z_1,z_2,z_3)  \mapsto \begin{bmatrix} y_1 z_1 & y_1 z_2 & y_1 z_3 \\ y_2 z_1 & y_2 z_2 & y_2 z_3 \end{bmatrix}.$$
#### $\defn$ – Coordinate Ring
Let $k$ be a field, and $X=\mathcal{Z}_k(I)\subseteq \mathbb{A}^d$ be a subvariety of $\mathbb{A}^d$. The {\bf coordinate ring}\index{coordinate ring}\index{$k[X]$} of $X$ is the ring $k[X] :=  k[x_1,\dots,x_d]/\mathcal{I}(X)$.
#### $\defn$ – Affine Algebra
An {\bf affine $k$-algebra}\index{affine algebra} is any ring of the form 
$$k[x_1,\ldots, x_n]/I \textrm{ for some ideal } I\subseteq k[x_1,\ldots, x_n].$$
#### $\defn$ – Pullback
Let $k$ be a field. Let $X\subseteq \A^m_k$ and $Y \subseteq \A^n_k$ be affine varieties. Let $\phi: X \to Y$ be a morphism given by $(g_1(x),\dots,g_n(x))$, with $g_i \in k[x_1,\dots,x_m]$. We define
$$\begin{CD}
k[Y]@>\phi^*>> k[X]\\\\
f(y_{1},\dots,y_{n})@>>> f(g_{1}(x),\dots,g_n(x))
\end{CD}$$
Alternatively, thinking of $f\in k[Y]$ as a regular map from $Y \to A^1_k$, we have 

#empty 


We may call this the \df{homomorphism induced by} $\phi$ or the \df{pullback} of $\phi$.
#### Exercise – 
Show that the rule $\phi^*$ is a well-defined ring homomorphism, and that the map $\phi \mapsto \phi^*$ is well-defined.
#### Exercise – 
For any field $k$, there is a contravariant functor from affine varieties over $k$ to affine $k$-algebras that
(a) on objects, maps a variety $X$ to its coordinate ring $k[X]$,
(b) on morphisms, maps a morphism of varieties $X \xrightarrow{\phi} Y$ to its pullback $k[Y] \xrightarrow{\phi^*} k[X]$.
#### $\ex$ – 
We saw before that 
$$X= \{ (t,t^2,t^3) \ | \ t \in k \}$$is a subvariety of $\mathbb{A}^3_k$. 
Thus its coordinate ring is of the form $k[X] = k[x,y,z]/\cI(X)$. To compute $\cI(X)$, note that the polynomials $f \in k[x,y,z]$ that vanish at every point of $X$ are precisely the polynomials in the kernel of the map $k[x,y,z] \to k[t]$ given by $x \mapsto t$, $y \mapsto t^2$, and $z \mapsto t^3$. Then one can show that $\cI(X) = (x^2-y,x^3-z)$. For an explicit field like $\mathbb{R}$ or $\mathbb{C}$, we can also compute this kernel in Macaulay2.
Notice, in fact, that $k[X] \cong k[t,t^2,t^3]$.
#### $\ex$ – 
Fix a field $k$, and let $R = k[x,y,z]$. Consider the ideal $P$ given by $$P = \left( \underset{f}{\underbrace{x^3-yz}}, \underset{g}{\underbrace{y^2-xz}}, \underset{h}{\underbrace{z^2-x^2y}} \right).$$We will show that the ring homomorphism
$$\xymatrix@R=0.5em{ \frac{k[x,y,z]}{P} \ar[r]^-\pi & k[t^3,t^4,t^5] \\ (x,y,z) \ar@{|->}[r] & (t^3,t^4,t^5)}$$
is an isomorphism. First, note that it is immediately surjective by construction, so we just need to prove it is injective. If we set $\deg(x)=3, \deg(y)=4, \deg(z)=5, \deg(t)=1$, $\pi$ is a graded homomorphism of graded rings, whose kernel is homogeneous. Since $[ k[t^3,t^4,t^5] ]_n$ is a $1$-dimensional vector space generated by $t^n$ for all $n\geqslant 3$ (and zero in degrees 1 and 2), it suffices to show that $\dim( [\frac{k[x,y,z]}{P}]_n ) = 1$ for all $n \geqslant 3$ (and zero in degrees 1 and 2).

Given any monomial in $\frac{k[x,y,z]}{P}$, we can use the relations $y^2-xz$, $z^2-x^2y$, and $yz-x^3$ to obtain an equivalent monomial where the sum of the $y$ and $z$ exponents is smaller until we get a monomial of the form $x^a$, $x^a y$, or $x^a z$. If $n=1,2$, there is no such monomial; if $n\geqslant 3$, there is exactly one, namely, 
$$\begin{cases} x^{n/3} & \text{if} \ n\equiv 0 \mod 3 \\
x^{(n-4)/3} y & \text{if} \ n\equiv 1 \mod 3 \\
x^{(n-5)/3} y & \text{if} \ n\equiv 2 \mod 3 \end{cases}$$
This shows that $P$ is the kernel of the map
$$\xymatrix@R=0.5em{ k[x,y,z] \ar[r] & k[t^3,t^4,t^5] \\ (x,y,z) \ar@{|->}[r] & (t^3,t^4,t^5)}.$$
Since $k[t^3,t^4,t^5] \subseteq k[t]$ is a domain, we conclude that $P$ is a prime ideal. In fact, $P$ is a homogeneous ideal with the grading we considered above: our generators $f$, $g$, and $h$ are now homogeneous, with $\deg(f) = 9$, $\deg(g) = 8$, and $\deg(h) = 10$.
	
We showed in \Cref{example varieties} (\ref{subexample 345}) that $\mathcal{Z}(P)$ is the variety
$$X = \{ (t^3, t^4, t^5) \mid t \in k \}.$$
Thus we conclude that 
$$\mathcal{I}(X) = P = \left( x^3-yz, y^2-xz, z^2-x^2y \right),$$
and that $k[t^3,t^4,t^5] \cong k[x,y,z]/P$ is the coordinate ring $k[X]$.
## Nullstellensatz
#### $\lem$ – Nullstellensatz Lemma 1
Let $k$ be a field, and $R=k[x_1,\dots,x_d]$ be a polynomial ring. There is a bijection
\vspace{-1em}
\begin{center}
\begin{minipage}{0.12\textwidth}
	\begin{center}
		\vspace{1em}
		
		$\mathbb{A}^d_k$
		
	\vspace{2em}
	
	$(a_1, \ldots, a_d)$
	\end{center}
\end{minipage}
\begin{minipage}{0.15\textwidth}
\vspace{1em}
	$\xymatrix@C=20mm{\ar[r] &}$
	
\vspace{2em}

$\xymatrix@C=20mm{\ar@{|->}[r] &}$
\end{minipage}
 \begin{minipage}{0.3\textwidth}

\begin{center}
	$\left\{ \begin{array}{c} \textrm{maximal ideals }\m \textrm{ of } R \\\textrm{ with } R/\m\cong k \end{array}\right\}$
 
 \vspace{1em}
 
$(x_1-a_1, \ldots, x_d-a_d)$
\end{center}
\end{minipage}
\end{center}

##### *Proof.*
Each $\m = (x_1-a_1,\dots,x_d-a_d)$ is a maximal ideal satisfying $R/\m \cong k$. Moreover,  these ideals are distinct: if $x_i-a_i,x_i-a'_i$ are in the same ideal for $a_i\neq a'_i$, then the unit $a_i-a'_i$ is in the ideal, so it is not proper. Therefore, our map is injective. To see that it is surjective, let $\m$ be a maximal ideal with $R/\m \cong k$. Each class in $R/\m$ corresponds to a unique $a \in k$, so in particular each $x_i$ is in the class of a unique $a_i \in k$. This means that $x_i - a_i \in \m$, and thus $(x_1-a_1,\dots, x_d-a_d)\subseteq \m$. Since $(x_1-a_i,\dots, x_d-a_i)$ is a maximal ideal, we must have $(x_1-a_1,\dots, x_d-a_d)= \m$.
#### $\ex$ – 
Not all maximal ideals in $k[x_1, \ldots, x_d]$ are necessarily of this form. For example, if $k = \mathbb{R}$ and $d=1$, the ideal $(x^2+1)$ is maximal, but 
	$$k[x]/(x^2+1) \cong \mathbb{C} \not\cong k.$$
#### $\cor$ – Nullstellensatz
Let $S=k[x_1,\dots,x_d]$ be a polynomial ring over an algebraically closed field $k$. There is a bijection \begin{center}
\begin{minipage}{0.12\textwidth}
	\begin{center}
		$\mathbb{A}^d_k$
		
	\vspace{1em}
	
	$(a_1, \ldots, a_d)$
	\end{center}
\end{minipage}
\begin{minipage}{0.15\textwidth}
	$\xymatrix@C=20mm{\ar[r] &}$
	
\vspace{1em}

$\xymatrix@C=20mm{\ar@{|->}[r] &}$
\end{minipage}
 \begin{minipage}{0.3\textwidth}

\begin{center}
	$\left\{\textrm{maximal ideals }\m \textrm{ of } S \right\}$
 
 \vspace{1em}
 
$(x_1-a_1, \ldots, x_d-a_d)$
\end{center}
\end{minipage}
\end{center}
If $R$ is a finitely generated $k$-algebra, we can write $R=S/I$ for a polynomial ring $S$, and there is an induced bijection
	\[ \mathcal{Z}_k(I)\subseteq \mathbb{A}^d_k \longleftrightarrow \{ \text{maximal ideals $\m$ of $R$}\}.\]

##### *Proof.*
The first part follows immediately from Lemma \ref{nullstellensatz lemma 1} and \hyperref[Zariski lemma]{Zariski's Lemma}.
Since we skipped the proof of Zariski's Lemma, we give a proof of the case when $k$ is an uncountable field. 

Let $k$ be an uncountable algebraically closed field and $\m$ be any maximal ideal in $R$. Suppose that $L :=  R/\m \not\cong k$. Then there exists some element $\alpha \in L$ that is transcendental over $k$, since $k$ is algebraically closed and $L$ is an extension of $k$. Now consider the set
$$S = \left\lbrace \frac{1}{\alpha-c} \mid c \in k \right\rbrace.$$
If $S$ is a linearly dependent set over $k$, then we can find finitely many $b_1, \ldots, b_n, c_1, \ldots, c_n \in k$ such that 
$$\frac{b_1}{\alpha-c_1} + \cdots + \frac{b_n}{\alpha-c_n} = 0.$$
Rewriting the left side as one fraction, the numerator is a polynomial in $\alpha$ with coefficients in $k$. But $\alpha$ is transcendental over $k$, so $S$ is a linearly independent set. But $k$ is uncountable, so $S$ is uncountable, and that means that $\dim_k(L)$ is uncountable. On the other hand, $L$ is by construction algebra-finite over $k$. Since $k$ is a field, being algebra-finite and module-finite over $k$ are equivalent conditions, and thus $L$ should be a finite dimensional vector space over~$k$. This is a contradiction, so we cannot have any transcendental element over $k$ in $L$. Since $k$ is algebraically closed, we conclude that $k = L$. 

To show the second statement, fix an ideal $I$ in $S$, and $R = S/I$. The maximal ideal ideals in $R$ are in bijection with the maximal ideals $\m$ in $S$ that contain $I$; those are the ideals of the form $(x_1-a_1, \ldots, x_d-a_d)$ with $I \subseteq (x_1-a_1, \ldots, x_d-a_d)$. These are in bijection with the points $(a_1, \ldots, a_d) \in \mathbb{A}^d_k$ satisfying $(a_1, \ldots, a_d) \in \mathcal{Z}_k(I)$.
#### $\thm$ – Weak Nullstellensatz
Let $k$ be an algebraically closed field. If $I$ is a proper ideal in $R=k[x_1,\dots,x_d]$, then $\mathcal{Z}_k(I)\neq\varnothing$.

##### *Proof.*
If $I\subseteq R$ is a proper ideal, then by \Cref{every ideal is contained in a maximal ideal} there is a maximal ideal $\m \supseteq I$, so $\mathcal{Z}(\m)\subseteq \mathcal{Z}(I)$. Since $\m=(x_1-a_1,\dots,x_d-a_d)$ for some $a_i \in k$, $\mathcal{Z}(\m)$ is a point, and thus nonempty.
#### $\ex$ – 
Many ideals define the same solution set. For example, in $R = k[x]$, the ideals $I_n = (x^n)$, for any $n \geqslant 1$, all define the same solution set $\mathcal{Z}_k(I_n) = \{ 0 \}$.
#### $\rem$ – Rabinowitz's Technique
Observe that, if $f(\vx)$ is a polynomial and $\underline{a} \in \mathbb{A}^d$, $f(\underline{a})\neq 0$ if and only if $f(\underline{a}) \in k$ is invertible; equivalently, if there is a solution $y=b\in k$ to $yf(\underline{a})-1=0$. In particular, a system of polynomial equations and inequations
$$\left\lbrace \begin{array}{c} f_1(\vx)=0 \\ \vdots \\ f_m(\vx)=0 \end{array}\right. \textrm{ and } \left\lbrace\begin{array}{c} g_1(\vx)\neq 0 \\ \vdots \\ g_n(\vx)\neq 0 \end{array}\right.$$
has a solution $\vx=\underline{a}$ if and only if the system
$$\left\lbrace \begin{array}{c} f_1(\vx)=0 \\ \vdots \\ f_m(\vx)=0 \end{array}\right. \textrm{ and } \left\lbrace\begin{array}{c} y_1 g_1(\vx)-1=0 \\ \vdots \\ y_n g_n(\vx)-1=0 \end{array}\right.$$
has a solution $(\vx,\underline{y})=(\underline{a},\underline{b})$. In fact, this is equivalent to a system in one extra variable:
$$\left\lbrace \begin{array}{c} f_1(\vx)=0 \\ \vdots \\ f_m(\vx)=0 \\ y g_1(\vx)\cdots g_n(\vx)-1 = 0 \end{array}\right.$$	
#### $\thm$ – Strong Nullstellensatz
Let $R=k[x_1,\dots,x_d]$ be a polynomial ring over an algebraically closed field $k$. Let $I\subseteq R$ be an ideal. The polynomial $f$ vanishes on $\mathcal{Z}_k(I)$ if and only if $f^n\in I$ for some $n \geqslant 1$. In particular, $\cI(\cZ(J)) = \sqrt{J}$.

##### *Proof.*
Suppose that $f^n\in I$. For each $\underline{a}\in \mathcal{Z}_k(I)$, $f(\underline{a})\in k$ satisfies $f(\underline{a})^n =0 \in k$. Since $k$ is a field, $f(\underline{a})=0$. Thus, $f\in \mathcal{Z}_k(I)$ as well. 

Suppose that $f$ vanishes along $\mathcal{Z}_k(I)$. This means that given any solution $\underline{a} \in \mathbb{A}^d$ to the system determined by $I$, $f(\underline{a}) = 0$. In other words, the system $$\left\lbrace \begin{array}{l} g(\vx)=0 \textrm{ for all } g \in I \\ f \neq 0 \end{array}\right.$$	has no solutions. By the discussion above, $\mathcal{Z}_k(I+(yf-1))=\varnothing$ in a polynomial ring in one more variable. By the Weak Nullstellensatz, we have $I R[y]+(yf-1) = R[y]$, and equivalently $1 \in I R[y]+(yf-1)$. Write $I=(g_1(\vx),\dots,g_m(\vx))$, and
	\begin{center}
	$1 = r_0(\vx,y) (1-yf(\vx))+r_1(\vx,y) g_1(\vx) + \cdots + r_m(\vx,y) g_m(\vx).$
	\end{center}
	We can map $y$ to $1/f$ to get
\begin{center}
	$1 = r_1(\vx,1/f) g_1(\vx) + \cdots + r_m(\vx,1/f) g_m(\vx)$
\end{center}
in the fraction field of $R[y]$. Since each $r_i$ is polynomial, there is a largest negative power of $f$ occurring; say that $f^n$ serves as a common denominator. We can multiply by $f^n$ to obtain $f^n$ as a polynomial combination of the $g$'s.
#### $\rem$
We showed before that $\mathcal{Z}(IJ) = \mathcal{Z}(I \cap J)$, despite the fact that we often have $IJ \neq I \cap J$. The \hyperref[strong nullstellensatz]{Strong Nullstellensatz} implies that $\sqrt{IJ} = \sqrt{I \cap J}$.
#### $\cor$ – Ord-Pres-Bij
Let $k$ be an algebraically closed field. The associations $\cZ$ and $\cI$ induce order-reversing bijections
	\[ \xymatrix@R=.7em@C=4em{ \text{\underline{in $k[x_1,\dots,x_n]$}} &  \text{\underline{in $\A^n_k$}}  \\
\{\text{radical ideals}\} \ar@<-.5ex>[r]_-{\cI} & \ar@<-.5ex>[l]_-{\cZ} \{\text{varieties} \} \\
\{\text{prime ideals}\} \ar@<-.5ex>[r]_-{\cI} & \ar@<-.5ex>[l]_-{\cZ} \{\text{irred vars} \} \\
\{\text{maximal ideals}\} \ar@<-.5ex>[r]_-{\cI} & \ar@<-.5ex>[l]_-{\cZ}  \{\text{points} \}. }\]
 In particular, given ideals $I$ and $J$, we have $\mathcal{Z}(I) = \mathcal{Z}(J)$ if and only if $\sqrt{I}=\sqrt{J}$.

 Likewise, for any variety $X$ over an algebraically closed  field, we have order-reversing bijections
\[ \xymatrix@R=.7em@C=4em{ \text{\underline{in $k[X]$}} &  \text{\underline{in $X$}}  \\
\{\text{radical ideals}\} \ar@<-.5ex>[r] & \ar@<-.5ex>[l] \{\text{subvarieties} \} \\
\{\text{prime ideals}\} \ar@<-.5ex>[r] & \ar@<-.5ex>[l]  \{\text{irred subs} \} \\
\{\text{maximal ideals}\} \ar@<-.5ex>[r] & \ar@<-.5ex>[l]  \{\text{points} \}. }\]
##### *Proof.*
#### $\lem$ – Irreducible Variety and Prime Vanishing Set
A variety $X \subseteq \A^d_k$ is irreducible if and only if $\mathcal{I}(X)$ is prime.

##### *Proof.*
Suppose that $X$ is reducible, say $X = V_1 \cup V_2$ for two varieties $V_1$ and $V_2$ such that $V_1, V_2 \subsetneq X$. Note that this implies that $\mathcal{I}(X) \subsetneq \mathcal{I}(V_1)$, $\mathcal{I}(X) \subsetneq \mathcal{I}(V_2)$, and $\mathcal{I}(X) = \mathcal{I}(V_1) \cap \mathcal{I}(V_2)$. Then we can find $f \in \mathcal{I}(V_1)$ such that $f \notin \mathcal{I}(V_2)$, and $g \in \mathcal{I}(V_2)$ such that $g \notin \mathcal{I}(V_1)$. Notice that by construction $fg \in \mathcal{I}(V_1) \cap \mathcal{I}(V_2) \mathcal{I}(X)$, while  $f \notin \mathcal{I}(X)$ and $g \notin \mathcal{I}(X)$. Therefore, $\mathcal{I}(X)$ is not prime.

Now assume that $\mathcal{I}(X)$ is not prime, and fix $f, g \notin \mathcal{I}(X)$ with $fg \in \mathcal{I}(X)$. Then
	$$X \subseteq \mathcal{Z}(fg) = \mathcal{Z}(f) \cup \mathcal{Z}(g).$$
	The intersections
	$$V_f = \mathcal{Z}(f) \cap X = \mathcal{Z}(\mathcal{I}(X) + (f))
	\quad \textrm{ and } \quad
	V_g = \mathcal{Z}(g) \cap X = \mathcal{Z}(\mathcal{I}(X) + (g))$$
	are varieties, and $X = V_f \cup V_g$.
	Finally, since $f \notin \mathcal{I}(X)$, then $X \not\subseteq V_f$. Similarly, $X \not\subseteq V_g$. Thus $X$ is reducible.
#### $\ex$ – 
In $k[x,y,z]$, the radical ideal $I = (xy,xz,yz)$ corresponds to the variety $X$ given by the union of the three coordinate axes. Each of these axes is a variety in its own right, corresponding to the ideals $(x,y)$, $(x,z)$ and $(y,z)$. The three axes are the irreducible components of $X$. And indeed, $(x,y)$, $(x,z)$ and $(y,z)$ are the three minimal primes over $I$, and
	$$(xy,xz,yz) = (x,y) \cap (x,z) \cap (y,z).$$
# Local Rings
## Local Rings
#### $\defn$ – Local Ring
![[Local Ring]]
#### $\lem$ – Local if Nonunits Form an Ideal
![[Lemma – Local if Nonunits Form an Ideal]]
#### $\ex$ – 
(a) The ring $\Z/(p^n)$ is local with maximal ideal $(p)$.
(b) The ring of power series $k\llbracket \vx \Rbracket$ over a field $k$ is local. Indeed, one can show that a power series has an inverse if and only if its constant term is nonzero; this can be done explicitly, by writing down the conditions for a power series to be the inverse of another. The unique maximal ideal is $(\vx)$.
(c) More generally, $k \llbracket x_1, \ldots, x_d \Rbracket$ is local with maximal ideal $(x_1, \ldots, x_d)$.
(d) The ring $\Z_{(p)} = \{ \frac{a}{b} \in \Q \ | \ p\nmid b \text{ when in lowest terms}\}$ is a local ring with maximal ideal $(p)$.
(e) The ring of complex power series holomorphic at the origin, $\C\{ \vx \}$, is local. One can show that the series inverse of a holomorphic function at the origin is convergent on a neighborhood of $0$.
(f) A polynomial ring over a field is certainly not local; we have seen it has so many maximal ideals!
#### $\defn$ – Ring Characteristic
![[Ring Characteristic]]
#### $\prop$ – Characteristic in Local Rings
![[Proposition – Characteristic in Local Rings]]
#### $\rem$
If $R$ is an $\N$-graded $k$-algebra with $R_0 = k$, and $\m = \bigoplus_{n > 0} R_0$ is the homogeneous maximal ideal, $R$ and $\m$ behave a lot like a local ring and its maximal ideal, and we sometimes use the suggestive notation $(R,\m)$ to refer to it. Many properties of local rings also apply to the graded setting, so given a statement about local rings, you might take it as a suggestion that there might be a corresponding statement about graded rings --- a statement that, nevertheless, still needs to be proved. There are usually some changes one needs to make to the statement; for example, if a theorem makes assertions about the ideals in a local ring, the corresponding graded statement will likely only apply to homogeneous ideals, and a theorem about finitely generated modules over a local ring will probably translate into a theorem about graded modules in the graded setting.
## Localization
#### $\ex$ – 
Let $R$ be a ring.
(a) For any $f\in R$, the set $W=\{1, f, f^2, f^3, \dots\}$ is a multiplicative set.
(b) If $P \subseteq R$ is a prime ideal, the set $W=R \setminus P$ is multiplicative: this is an immediate translation of the definition.
(c) An element that is not a zerodivisor is called a {\bf nonzerodivisor}\index{nonzerodivisor} or {\bf regular element}\index{regular element}. The set of regular elements in $R$ forms a multiplicatively closed subset.
#### $\rem$
An arbitrary intersection of multiplicatively closed subsets is multiplicatively closed. In particular, for any family of primes $\{\p _{\lambda} \}$, the complement of $\bigcup_{\lambda} \p _{\lambda}$ is multiplicatively closed.
#### $\defn$ – Localization
![[Localization]]
#### $\rem$
Note that we write elements in $W^{-1}R$ in the form $\frac{r}{w}$ even though they are equivalence classes of such expressions.
#### $\rem$
Note that if $R$ is a domain, the equivalence relation simplifies to $rw'=r'w$, so $R \subseteq W^{-1}R \subseteq \mathrm{Frac}(R)$, and in particular $ W^{-1}R$ is a domain too. In particular, $\mathrm{Frac}(R)$ is a localization of $R$.
#### $\prop$ – UMP of Localizations
![[Proposition – UMP of Localizations]]
#### $\ex$ – Most Important Localizations
(a) For $f\in R$ and $W=\{1, f, f^2, f^3, \dots\} = \{ f^n \mid n \geqslant 0 \}$, we usually write $R_f$\index{$R_f$} for $W^{-1}R$.
(b) When $W$ is the set of nonzerodivisors on $R$, we call $W^{-1}R$ the {\bf total ring of fractions}\index{total ring of fractions} of $R$. When $R$ is a domain, this is just the fraction field of $R$, and in this case this coincides with the localization at the prime $(0)$.
(c) For a prime ideal $P$ in $R$, we generally write $R_{P}$\index{$R_{P}$} for $(R\setminus P)^{-1} R$, and call it {\bf the localization of $R$ at $P$}.\index{localization at a prime} Given an ideal $I$ in $R$, we sometimes write $I_P$ to refer to $I R_P$, the image of $I$ via the canonical map $R \to R_P$. Notice that when we localize at a prime $P$, the resulting ring is a local ring $(R_P,P_{P})$. We can think of the process of localization at $P$ as \emph{zooming in} at the prime $P$. Many properties of an ideal $I$ can be checked \emph{locally}, by checking them for $I R_P$ for each prime $P \in V(I)$.
#### $\ex$ – 
(a) A local ring one often encounters is $k[x_1,\dots,x_d]_{(x_1,\dots,x_d)}$. We can consider this as the ring of rational functions that in lowest terms have a denominator with nonzero constant term. Note that we can talk about lowest terms since the polynomial ring is a UFD.
(b) If $k$ is algebraically closed and $I$ is a radical ideal, then $k[x_1,\dots,x_d]/I= k[X]$ is the coordinate ring of some affine variety, and $(x_1,\dots,x_d)=\m_{\underline{0}}$ is the ideal defining the origin (as a point in $X \subseteq \mathbb{A}^d$). Then we call $$k[X]_{\m_{\underline{0}}} :=  (k[x_1,\dots,x_d]/I)_{(x_1,\dots,x_d)}$$ the {\bf local ring of the point}\index{local ring of a point} $\underline{0} \in X$; some people write this as $\mathcal{O}_{X,\underline{0}}$. The radical ideals of this ring consist of radical ideals of $k[X]$ that are contained in $\m_{\underline{0}}$, which by the Nullstellensatz correspond to subvarieties of $X$ that contain $\underline{0}$. Similarly, we can define the local ring at any point $\underline{a} \in X$.
#### $\lem$ – Localization Ideals
![[Lemma – Localization Ideals]]
#### $\cor$ – Map on Spec Localization Prime
![[Corollary – Map on Spec Localization Prime]]
#### $\defn$ – Module Localization
![[Module Localization]]
#### $\ex$ – 
Consider $R = k[x,y]/(xy)$. The canonical maps $R \longrightarrow R_{(x)}$ and $R \longrightarrow R_y$ are not injective, since in both cases $y$ is invertible in the localization, and thus$$x \mapsto \frac{x}{1} = \frac{xy}{y} = \frac{0}{y} = \frac{0}{1}.$$
#### $\defn$ – Annihilator 
![[Annihilator]]
#### $\defn$ – Colon Ideal
![[Colon Ideal]]
#### Exercise – 
The annihilator of $M$ is an ideal in $R$, and$$\ann (M) = (0 :_R M).$$Moreover, any colon $(N :_R M)$ is an ideal in $R$.
#### $\rem$
If $M = R m$ is a cyclic $R$-module, then $M \cong R/I$ for some ideal $I$. Notice that $I \cdot (R/I) = 0$, and that given an element $g \in R$, we have $g (R/I) = 0$ if and only if $g \in I$. Therefore, $M \cong R/\ann(M)$.
#### $\rem$
Let $M$ be an $R$-module. If $I$ is an ideal in $R$ such that $I \subseteq \ann(M)$, then $I M = 0$, and thus $M$ is naturally an $R/I$-module with the \emph{same} structure it has as an $R$-module, meaning$$(r+I) \cdot m = rm$$for each $r \in R$. 
#### $\rem$
If $N \subseteq M$ are $R$-modules, then $\ann(M/N) = (N :_R M)$.
#### $\lem$ – Zero in Localization
![[Lemma – Zero in Localization]]
#### $\rem$
As a consequence of \Cref{lemma zero in localization}, it follows that if $R$ is a domain, then the canonical map $R \to W^{-1}R$ is always injective for any multiplicatively closed set $W$, since every nonzero $r \in R$ has $\ann(r) = 0$. Notice, however, that even when $R$ is a domain, the elements in a module $M$ may still have nontrivial annihilators, and thus $M \to W^{-1} M$ may fail to be injective. 
#### $\rem$
If $M\xrightarrow{\alpha} N$ is an $R$-module homomorphism, then there is a $W^{-1}R$-module homomorphism $W^{-1}M \xrightarrow{W^{-1}\alpha} W^{-1}N$\index{$W^{-1}\alpha$} given by the rule $W^{-1}\alpha (\frac{m}{w}) = \frac{\alpha(m)}{w}$.
#### $\lem$ – Hom and Localization
![[Lemma – Hom and Localization]]
#### $\thm$ – Localization is Exact
![[Theorem – Localization is Exact]]
#### $\rem$
It follows from \Cref{lemma zero in localization} that if $\begin{CD}N@>\a>>M\end{CD}$ is injective, then $W^{-1}\alpha$ is also injective, since$$0=W^{-1}\alpha \left( \frac{n}{w} \right) = \frac{\alpha(n)}{w} \ \implies \ 0=u\alpha(n)=\alpha(un) \textrm{ for some }  u \in W \implies un=0 \implies \frac{n}{w}=0.$$So this explains some of \Cref{localization is exact}, since it shows that localization preserves inclusions.
#### $\rem$
Given a submodule $N$ of $M$, we can apply \Cref{localization is exact} to the short exact sequence$$\begin{CD}
0@>>>N@>>>M@>>>M/N@>>>0
\end{CD}$$and conclude that that $W^{-1}(M/N) \cong W^{-1}M / W^{-1}N$.
#### $\lem$ – Localization Commutes with Finite Intersection
![[Lemma – Localization Commutes with Finite Intersection]]
## NAK
#### $\prop$ – NAK 1
![[Proposition – NAK 1]]
#### $\thm$ – NAK 2
![[Theorem – NAK 2]]
#### $\thm$ – NAK 3
![[Theorem – NAK 3]]
#### $\thm$ – NAK 4
![[Theorem – NAK 4]]
#### $\rem$
Since $R/\m$ is a field, $M/\m M$ is a vector space over the field $R/\m$.
#### $\defn$ – Minimal Generators
![[Minimal Generators]]
#### $\lem$ – Min Gen Sets have Same Cardinality
![[Lemma – Min Gen Sets have Same Cardinality]]
#### $\defn$ – Minimal Number of Generators
![[Minimal Number of Generators]]
#### $\prop$ – GNAK1
![[Proposition – GNAK1]]
#### $\rem$
If $M$ is finitely generated, then it can be generated by finitely many homogeneous elements, the homogeneous components of some finite generating set. If $a$ is the smallest degree of a homogeneous element in a homogeneous generating set, since $R$ lives only in positive degrees we must have $M \subseteq R M_{\geqslant a} \subseteq M_{\geqslant a}$, so $M_{<a} = 0$.
#### $\prop$ – Graded Rings and Generators
![[Proposition – Graded Rings and Generators]]
#### $\defn$ – Minimal Number of Generators (Graded)
![[Minimal Number of Generators]]
# Decomposing Ideals
## Minimal Primes and Support
#### $\defn$ – Minimal Prime
![[Minimal Prime]]
#### $\defn$ – Nildradical
![[Nildradical]]
#### $\rem$
If $P$ is prime, then $\Min(P)=\{P\}$. Also, since $V(I)=V(\sqrt{I})$, we have $\Min(I)=\Min(\sqrt{I})$.
#### $\ex$ – Min Primes
Let $k$ be a field and $R = k[x,y]$. Every prime containing $I = (x^2, xy)$ must contain $x^2$, and thus $x$. On the other hand, $(x)$ is a prime ideal containing $I$. Therefore, $I$ has a unique minimal prime, and $\Min(I) = \{ (x) \}$.	
#### $\ex$ – 
Let $k$ be a field. The radical of the ideal $I = (x^2, xy)$ in the ring $R = k[x,y]$ from \Cref{example min primes} is $\sqrt{I} = (x)$. We saw before that $\Min(I) = \{ (x) \}$. The nilradical of $R = k[x,y]/(x^2,xy)$ corresponds to the radical of $(x^2,xy)$ is $k[x,y]$, so it is the ideal $(x)/(x^2,xy)$.
#### $\thm$ – Min Primes Finite
![[Theorem – Min Primes Finite]]
#### $\lem$ – Min Primes Intersection All Important
![[Lemma – Min Primes Intersection All Important]]
#### $\lem$ – Intersection of Primes are Min Primes
![[Lemma – Intersection of Primes are Min Primes]]
#### $\rem$
If $I = P_1 \cap \cdots \cap P_n$ for some primes $P_i$, we can always delete unnecessary components until no component can be deleted. Therefore, $\Min(I) \subseteq \{ P_1, \ldots, P_n \}$.

As a consequence of \Cref{min primes intersection all important} and \Cref{intersection of primes are min primes}, if $I$ is a radical ideal, there is a unique way to write $I$ as a finite intersection of incomparable prime ideals. Moreover, \Cref{intersection of primes are min primes}, \Cref{min primes finite}, and \Cref{spectrum analogue nullstellensatz} also imply that an ideal $I$ is equal to a finite intersection of primes if and only if $I$ is radical.
#### $\defn$ – Support
![[Support]]
#### $\prop$ – Supp v Ann
![[Proposition – Supp v Ann]]
#### $\ex$ – 
Let $k$ be a field, and $R=k[x]$. Take $$M=R_x / R = \bigoplus_{i>0} k \cdot x^{-i}.$$With this $k$-vector space structure, the action is given by multiplication in the obvious way, then killing any nonnegative degree terms. 

Any element of $M$ is killed by a large power of $x$, so $W^{-1}M=0$ whenever $W$ is a multiplicatively closed subset of $R$ with $W \ni x$. Therefore, if $P \in \Supp(M)$, then $x \in P$, and thus $\Supp(M) \subseteq \{ (x)\}$. We will soon see, in \Cref{support of nonzero module nonempty}, that the support of a nonzero module is nonempty, and thus $\Supp(M) = \{(x)\}$.
	
On the other hand, the annihilator of the class of $x^{-n}$ is $x^n$, so 
	$$\ann_R(M) \subseteq \bigcap_{n \geqslant 1}(x^n) = 0.$$
	In particular, $V(\ann_R(M)) = \Spec(R)$, while $\Supp(M) = \{ (x) \} \neq \Spec(R)$.
#### $\ex$ – 
Let $R=\C[x]$, and $M= \displaystyle\bigoplus_{n\in \Z} R/(x-n)$.
First, note that $M_\p = \displaystyle\bigoplus_{n\in \Z} (R/(x-n))_{\p}$, so $$\Supp(M)= \bigcup_{n\in \Z} \Supp(R/(x-n))= \bigcup_{n\in \Z} V((x-n))=\{(x-n) \ | \ n \in \Z\}.$$On the other hand, $$\ann_R(M)=\bigcap_{n\in \Z} \ann_R(R/(x-n)) = \bigcap_{n\in \Z} (x-n) = 0.$$Note that in this example the support is not even closed. 
#### $\lem$ – SES Support
![[Lemma – SES Support]]
#### $\rem$
As a corollary of \Cref{ses support}, given modules $L \subseteq M$, $\Supp(L) \subseteq \Supp (M)$.
#### $\lem$ – Nonzero Element Localizes
![[Lemma – Nonzero Element Localizes]]
#### $\cor$ – Support of Nonzero Module Nonempty
![[Corollary – Support of Nonzero Module Nonempty]]
## Associated Primes
#### $\rem$
Let $R$ be a ring, $I$ be an ideal in $R$, and $M$ be an $R$-module. To give an $R$-module homomorphism $R \longrightarrow M$ is the same as choosing an element $m$ of $M$ (the image of $1$ via our map) or equivalently, to choose a cyclic submodule of $M$ (the submodule generated by $m$).

To give an $R$-module homomorphism $R/I \longrightarrow  M$ is the same as giving an $R$-module homomorphism $R \longrightarrow M$ whose image is killed by $I$. Thus giving an $R$-module homomorphism $R/I \longrightarrow M$ is to choose an element $m \in M$ that is killed by $I$, meaning $I \subseteq \ann(m)$. The kernel of the map $R \to M$ given by $1 \mapsto m$ is precisely $\ann(m)$, so a well-defined map $R/I \to M$ given by $1 \mapsto m$ is injective if and only if $I = \ann(m)$.
#### $\defn$ – Associated Prime
![[Associated Prime]]
#### $\ex$ – Example Associated Primes
Let $k$ be a field and let $R = k \llbracket x,y \Rbracket$. Consider ideal $I = (x^2, xy)$ and the $R$-module $M = R/I$. The element $x + I$ in $M$ is killed by both $x$ and $y$, and thus $(x,y) \subseteq \ann (x+I)$. On the other hand, $x+I \neq 0$, so $\ann(x+I) \neq R$. Since $(x,y)$ is the unique maximal ideal in $R$, we conclude that $\ann(x+I) = (x,y)$. In particular, $(x,y) \in \Ass(M)$. Since $M = R/I$, this also says that $(x,y)$ is an associated prime of $I$.
#### $\lem$ – Associated Prime and Localization
![[Lemma – Associated Prime and Localization]]
#### $\lem$ – Associated Primes and Quotients
![[Lemma – Associated Primes and Quotients]]
#### $\ex$ – 
Let $k$ be a field and $R = k \llbracket x \Rbracket$. Consider the ideal $I = (x^2)$, and the $R$-module $M = R/I$. If $P$ is a prime ideal in $R$ and $P$ is associated to $M$, then $P = \ann(r+I)$ for some $r \in R$. Since $I = \ann(M)$, $P$ must contain $I$; since $P$ is prime and $x^2 \in P$, we conclude that $P \supseteq (x)$. On the other hand, $(x)$ is a maximal ideal, so $P = (x)$. Thus $\Ass(M) \subseteq \{ (x) \}$. Moreover, by an argument similar to the one we used in \Cref{example associated primes}, we can show that $(x) = \ann(x+I)$. Therefore, $\Ass(M) = \{ (x) \}$, and $(x)$ is the unique associated prime of $(x^2)$. However, $(x^2)$ is not a prime ideal.
#### $\lem$ – Graded Primes
![[Lemma – Graded Primes]]
#### $\defn$ – Zerodivisor
![[Module Zerodivisor]]
#### $\lem$ – Every Ann Contained in Ass Prime
![[Lemma – Every Ann Contained in Ass Prime]]
#### $\thm$ – Associated Primes Nonzero
![[Theorem – Associated Primes Nonzero]]
#### $\thm$ – Zerodivisors Associated Primes
![[Theorem – Zerodivisors Associated Primes]]
#### $\lem$ – Ass SES
![[Lemma – Ass SES]]
#### $\ex$ – 
If $M$ is a module with at least two associated primes, and $P$ is an associated prime of $M$, then
$$\begin{CD}
0@>>>R/P@>>>M
\end{CD}$$
is exact, but $\{ P \} = \Ass(R/P) \subsetneq \Ass(M)$.
#### $\ex$ – 
Let $R = k[x]$, where $k$ is a field, and consider the short exact sequence of $R$-modules $$\begin{CD}
0@>>>(x)@>>>R@>>>R/(x)@>>>0
\end{CD}$$Then one can check that:
- $\Ass(R/(x)) = \Ass(k) = \{ (x) \}$.
- $\Ass(R) = \Ass((x)) = \{ (0) \}$.
In particular, $\Ass(R) \subsetneq \Ass(R/(x)) \cup \Ass((x))$.
#### $\cor$ – Ass Direct Sum
![[Corollary – Ass Direct Sum]]
#### $\defn$ – Shift
![[Shift]]
#### $\thm$ – Filtration
![[Theorem – Filtration]]
#### $\cor$ – Ass Finite
![[Corollary – Ass Finite]]
#### $\ex$ – 
Any subset $X\subseteq\Spec(R)$ (for any $R$) can be realized as $\Ass(M)$ for some module $M$: take $M=\displaystyle\bigoplus_{P \in X} R/P$. However, $M$ is not finitely generated when $X$ is infinite.
#### $\ex$ – 
If $R$ is not noetherian, then there may be modules (or ideals even) with no associated primes. Let $R=\bigcup_{n\in \N} \C\llbracket x^{1/n} \Rbracket$ be the ring of nonnegatively-valued Puiseux series. We claim that $R/(x)$ is a cyclic module with no associated primes, i.e., the ideal $(x)$ has no associated primes. First, observe that any element of $R$ can be written as a unit times $x^{m/n}$ for some $m,n$, so any associated prime of $R/(x)$ must be the annihilator of $x^{m/n}+(x)$ for some $m \leqslant n$. However, we claim that these are never prime. Indeed, we have $\ann(x^{m/n}+(x))=(x^{1-m/n})$, which is not prime since $(x^{1/2-m/2n})^2 \in (x^{1-m/n})$ but $x^{1/2-m/2n} \notin (x^{1-m/n})$.
#### $\thm$ – Associated Primes Localize in Noetherian Rings
![[Theorem – Associated Primes Localize in Noetherian Rings]]
#### $\thm$ – Supp v Ass Primes
![[Theorem – Supp v Ass Primes]]
#### $\thm$ – Min Contained in Ass
![[Theorem – Min Contained in Ass]]
#### $\defn$ – Embedded Prime
![[Embedded Prime]]
#### $\thm$ – Ideal of Zerodivisors
![[Theorem – Ideal of Zerodivisors]]
## Primary Decomposition
#### $\thm$ – Fundamental Theorem of Arithmetic
![[Mathematics/Commutative Algebra/Results/Theorem – Fundamental Theorem of Arithmetic]]
#### $\ex$ – 
In $\mathbb{Z}[\sqrt{-5}]$, $$6 = 2 \cdot 3 = (1 + \sqrt{-5}) (1 - \sqrt{-5})$$are two \emph{different} ways to write $6$ as a product of irreducible elements. In fact, we cannot obtain $2$ or $3$ by multiplying $1 + \sqrt{-5}$ or $1 - \sqrt{-5}$ by a unit. 
#### $\defn$ – Primary Ideal
![[Primary Ideal]]
#### $\lem$ – Radical of Primary Ideal is Prime
![[Lemma – Radical of Primary Ideal is Prime]]
#### $\ex$ – Example Primary Ideals
(a) Any prime ideal is also primary.
(b) If $R$ is a UFD, we claim that a principal ideal is primary if and only if it is generated by a power of a prime element. Indeed, if $a=f^n$, with $f$ irreducible, then $$xy\in (f^n) \Longleftrightarrow f^n | xy \Longleftrightarrow f^n | x \text{ or } f| y \Longleftrightarrow x\in (f^n) \text{ or } y\in \sqrt{(f^n)} = (f).$$Conversely, if $a$ is not a prime power, then $a=gh$, for some $g$, $h$ nonunits with no common factor, then take $gh\in (a)$ but $g\notin (a)$ and $h\notin \sqrt{(a)}$.
(c) As a particular case of the previous example, the nonzero primary ideals in $\mathbb{Z}$ are of the form $(p^n)$ for some prime $p$ and some $n \geqslant 1$. This example is a bit misleading, as it suggests that primary ideals are the same as powers of primes. We will soon see that it not the case.
(d) In $R=k[x,y,z]$, the ideal $I=(y^2,yz,z^2)$ is primary. Give $R$ the grading with weights $\deg(y)=\deg(z)=1$ and $\deg(x)=0$. If $g\notin \sqrt{I}=(y,z)$, then $g$ has a degree zero term. If $f\notin I$, then $f$ has a term of degree zero or one. The product $fg$ has a term of degree zero or one, so is not~in~$I$.
#### $\ex$ – Radical Prime but not Primary
In $R=k[x,y,z]$, the ideal $Q =(x^2,xy)$ is not primary, even though $\sqrt{Q}=(x)$ is prime. The offending product is $xy$: we have $x \notin Q$ and $y \notin \sqrt{Q}$.
#### $\rem$
One thing that can be confusing about primary ideals is that the definition is not symmetric. For $Q$ to be a primary ideal, given a product $xy \in Q$, the definition says that if $x \notin Q$, then $y \in \sqrt{Q}$, and it \emph{also} says that if $y \notin Q$, then $x \in \sqrt{Q}$. In \Cref{example radical prime but not primary}, we found that $x \notin Q$ and $y \notin \sqrt{Q}$, so $Q$ is not primary. Notice that if we switch the roles of $x$ and $y$, we \emph{do} have $x \in \sqrt{Q}$, but that is not sufficient to make $Q$ a primary ideal.
#### $\thm$ – Characterization of Primary Ideals
![[Theorem – Characterization of Primary Ideals]]
#### $\lem$ – Radical Max Implies Primary
![[Lemma – Radical Max Implies Primary]]
#### $\ex$ – Powers of Prime not Primary
Fix a field $k$ and an integer $n \geqslant 2$, and let $R = k[x,y,z]/(xy-z^n)$. Consider the prime ideal $P = (x,z)$ in $R$. On the one hand, $xy = z^n \in P^n$, while $x \notin P^n$ and $y \notin \sqrt{P^n} = P$. Therefore, $P^n$ is not primary, even though its radical is the prime $P$.
#### $\lem$ – Contraction of Primary Ideals is Primary
![[Lemma – Contraction of Primary Ideals is Primary]]
#### $\lem$ – Ass Intersection
![[Lemma – Ass Intersection]]
#### $\cor$ – Intersections Primary
![[Corollary – Intersections Primary]]
#### $\defn$ – Primary Decomposition
![[Primary Decomposition]]
#### $\rem$
By \Cref{lemma intersections primary}, the intersection of $P$-primary ideals is $P$-primary. Thus we can turn any primary decomposition into an irredundant one by combining the terms with the same radical, then removing redundant terms.
#### $\ex$ – Primary decomposition in $\mathbb{Z}$
Given a decomposition of $n \in \mathbb{Z}$ as a product of distinct primes, say $n = p_1^{a_1} \cdots p_k^{a_k}$, then the primary decomposition of the ideal $(n)$ is $(n) = (p_1^{a_1}) \cap \cdots \cap (p_k^{a_k})$. However, this example can be deceiving, in that it suggests that primary ideals are just powers of primes; as we saw in \Cref{powers of prime not primary}, powers of primes may fail to be primary! Moreover, an ideal might be primary but not a power of a prime.
#### $\thm$ – Lasker, 1905, Noether, 1921
![[Theorem – Lasker, 1905, Noether, 1921]]
#### $\ex$ – 
Let $R=k[x,y]$, where $k$ is a field, and $I=(x^2,xy)$. We can write\[ I = (x) \cap (x^2,xy,y^2) = (x) \cap (x^2,y). \]These are two different irredundant primary decompositions of $I$. To check this, we just need to see that each of the ideals $(x^2,xy,y^2)$ and $(x^2,y)$ are primary. Observe that each has radical $\m=(x,y)$, which is maximal, so by \Cref{radical max implies primary}, these ideals are both primary. In fact, our ideal $I$ has infinitely many minimal primary decompositions: given any $n \geqslant 1$, $$I = (x) \cap (x^2, xy, y^n)$$ is an irredundant primary decomposition. One thing all of these have in common is the radicals of the primary components: they are always $(x)$ and $(x,y)$.
#### $\thm$ – 1st Uniqueness Theorem for Primary Decompositions
![[Theorem – 1st Uniqueness Theorem for Primary Decompositions]]
#### $\thm$ – 2nd Uniqueness Theorem for Primary Decompositions
![[Theorem – 2nd Uniqueness Theorem for Primary Decompositions]]
#### $\ex$ – 
If $R$ is noetherian, and $I$ is a radical ideal, then we have seen that $I$ coincides with the intersection of its minimal primes $P_i$, meaning $I=P_1 \cap \cdots \cap P_t$. This is the \emph{only} primary decomposition of a radical ideal.

For a more concrete example, take the ideal $I = \left( xy, xz, yz \right)$ in $k[x,y,z]$. This ideal is radical, so we just need to find its minimal primes. And indeed, one can check that $\left( xy, xz, yz \right) = \left( x, y \right) \cap \left( x, z \right) \cap \left( y, z \right)$. More generally, the radical monomial ideals are precisely those that are squarefree, and the primary components of a monomial ideal are also monomial.
#### $\ex$ – 
Let's get back to our motivating example in $\mathbb{Z}[\sqrt{-5}]$, where some elements can be written as products of irreducible elements in more than one way. For example, we saw that$$6 = 2 \cdot 3 = (1 + \sqrt{-5}) (1 - \sqrt{-5}).$$So $(6) = (2) \cap (3)$, but while $(2)$ is primary, $(3)$ is not. In fact, $(3)$ has two distinct minimal primes, and the following is a minimal primary decomposition for $(6)$:$$(6) = (2) \cap (3, 1+\sqrt{-5}) \cap (3, 1 - \sqrt{-5}).$$In fact, all of these come components are minimal, and so this primary decomposition is unique. Primary decomposition saves the day!
#### $\defn$ – Symbolic Power
![[Symbolic Power]]
#### $\prop$ – Characterizations of Symbolic Powers
![[Proposition – Characterizations of Symbolic Powers]]
#### $\ex$ – 
(a) In $R=k[x,y,z]$, the prime $P=(y,z)$ satisfies $P^{(n)}=P^n$ for all $n$. This follows along the same lines as \Cref{example primary ideals} \ref{example powers primary}.
(b) In $R=k[x,y,z]=(xy-z^n)$, where $n \geqslant 2$, we have seen in Example \ref{powers of prime not primary} that the square of $P=(y,z)$ is not primary, and therefore $P^{(2)}\neq P^2$. Indeed, $xy=z^n \in P^2$, and $x\notin P$, so $y\in P^{(2)}$ but $y \notin P^2$.
(c) Let $X=X_{3\times 3}$ be a $3\times 3$ matrix of indeterminates, and $k[X]$ be a polynomial ring over a field~$k$. Let $P=I_2(X)$ be the ideal generated by $2\times 2$ minors of $X$. Write $\Delta_{\substack{i|k \\j |l}}$ for the determinant of the submatrix with rows $i,j$ and columns $k,l$. We find
$$\begin{align*} x_{11} \det(X) = & \, x_{11}x_{31} \Delta_{\substack{1|2 \\2 |3}} - x_{11}x_{32} \Delta_{\substack{1|1 \\2 |3}} + x_{11}x_{33} \Delta_{\substack{1|1 \\2 |2}} \\
=& \, (x_{11}x_{31} \Delta_{\substack{1|2 \\2 |3}} - x_{11}x_{32} \Delta_{\substack{1|1 \\2 |3}} + x_{11}x_{33} \Delta_{\substack{1|1 \\2 |2}} ) \\
-&\, (x_{11}x_{31} \Delta_{\substack{1|2 \\2 |3}} - x_{12}x_{31} \Delta_{\substack{1|1 \\2 |3}} + x_{13}x_{31} \Delta_{\substack{1|1 \\2 |2}} )\\
=&\,  -\Delta_{\substack{1|1 \\3 |2}} \Delta_{\substack{1|1 \\2 |3}} + \Delta_{\substack{1|1 \\3 |3}} \Delta_{\substack{1|1 \\2 |2}}\in I_2(X)^2.
\end{align*}$$
Note that in the second row, we subtracted the Laplace expansion of the determinant of the matrix with row 3 replaced by another copy of row 1. That is, we subtracted zero.
## The Krull Intersection Theorem
#### $\thm$ – Krull Intersection Theorem for Domains
![[Theorem – Krull Intersection Theorem for Domains]]
# Dimension Theory: A Global Perspective
## Dimension and Height
#### $\defn$ – Dimension of Variety
![[Dimension of Variety]]
#### $\defn$ – Krull Dimension of a Ring
![[Krull Dimension of a Ring]]
#### $\defn$ – Dimension of a Module
![[Dimension of a Module]]
#### $\ex$ – 
(a) The dimension of any field is zero.
(b) A ring is zero-dimensional if and only if every minimal prime of $R$ is a maximal ideal.
(c) The ring of integers $\Z$ has dimension $1$, since there is one minimal prime $(0)$ and every other prime is maximal. Likewise, any PID that is not a field has dimension one.
(d) It follows from the definition that if $k$ is a field, then $$\dim(k[x_1,\dots,x_d])\geqslant d,$$ since there is a saturated chain of primes $$(0) \subsetneq (x_1)  \subsetneq (x_1,x_2)  \subsetneq \cdots  \subsetneq (x_1,\dots,x_d).$$When $d=1$, the ring $k[x]$ is a PID, and thus it has dimension $1$.
#### $\lem$ – UFD Height 1
![[Lemma – UFD height 1]]
#### $\ex$ – 
For a field $k$, the ring $R = k[x_1,x_2,\dots]/(x_1^2,x_2^2,\dots)$ is not noetherian, as
$$(x_1) \subsetneq (x_1,x_2) \subsetneq (x_1,x_2,x_3) \subsetneq \cdots$$
is an infinite ascending chain, so $R$ is not noetherian. However, $\sqrt{(0)} = (x_1,x_2,\dots)$ is a maximal ideal, and hence $(x_1,x_2,\dots)$ is the unique minimal prime of $R$, which is also maximal. Therefore, $\dim(R) = 0$. 
#### $\ex$ – Nagata
Let $R = k[x_{11},x_{21},x_{22}, x_{31}, x_{32}, x_{33},\ldots]$ be a polynomial ring in infinitely many variables, which we are thinking of as arranged in an infinite triangle. $R$ is clearly infinite-dimensional and not noetherian. Let $$W = R \setminus \big((x_{11}) \cup (x_{21},x_{22}) \cup (x_{31},x_{32},x_{33})  \cup \cdots \big) = \bigcap_{n \geqslant 1} \big(R \setminus (x_{n1},\dots,x_{nn})\big)$$and $S=W^{-1}R$. Note that $W$ is an intersection of multiplicatively closed subsets, so this is a valid localization of $R$. 

For any $n$, we have a chain of primes $$(x_{n1}) \subsetneq (x_{n1},x_{n2}) \subsetneq \cdots \subsetneq (x_{n1},\ldots, x_{nn})$$in $R$. As these primes are all contained in $(x_{n1},\ldots, x_{nn})$, none of these intersects $W$, so the expansion to $S$ of the chain above yields a proper chain of primes in $S$. It follows that $\dim(S) \geqslant n$ for all $n \geqslant 1$, so $S$ is infinite-dimensional.

It turns out that $S$ is noetherian, which is not at all obvious and a bit technical, so we will not prove it.
#### $\lem$ – Properties of Dimension and Height
![[Lemma – Properties of Dimension and Height]]
#### Exercise – 
Prove (3)--(5) and	(8)--(10) in \Cref{properties of dim and height}.
#### $\rem$
We know that in noetherian rings, there can be arbitrarily long chains of primes, since the dimension can be infinite as in Nagata's \Cref{ex:Nagata}. On the other hand, any ascending proper chain of primes is finite, as a consequence of the definition. Does this imply that every prime has finite height? This does not prevent that possibility that there could be an infinite descending chain of primes, which would then give any of the primes in the chain infinite height. (This seems strange in conjunction with the fact that in any ring, any prime contains a minimal prime, but it does not contradict this.) Another possible problem is there being two primes $P \subseteq Q$ such that for all $n \geqslant 1$ there exists a chain of primes of length $n$ from $P$ to $Q$.

However, we will later show that the height of any ideal in a noetherian ring is finite.
#### Exercise – int extension of domains nonzero multiple
Let $R \subseteq S$ be an integral extension of domains. Show that every nonzero $s \in S$ has a nonzero multiple in $R$, meaning that there exists $t \in S$ such that $ts \neq 0$ and $ts \in R$.
#### $\ex$ – 
Let $k$ be an infinite field and $R = k[t^3,t^4,t^5]$. We have shown that $$\displaystyle R\cong \frac{k[x,y,z]}{(x^3-yz,y^2-xz,z^2-x^2y)},$$ and that $R$ is the coordinate ring of the curve $$X = \{ (t^3,t^4,t^5) \ | t\in k\}.$$ As $X$ is a curve (meaning it is parameterized by a single parameter), we should expect the dimension of the variety $X$, and equivalently of the ring $R$, to be $1$. Let's prove this.

On the one hand, $R$ is a domain, so $(0)$ is the unique minimal prime. To show that $\dim(R) = 1$, we need to show that any nonzero prime ideal is maximal.

Set $S = k[t^3]\subseteq R$. We note that $t^3$ does not satisfy any algebraic relation over $k$, so $S$ is isomorphic to a polynomial ring in one variable, where that one variable corresponds to $t^3$. Moreover, note that the inclusion $S \subseteq R$ is integral, since $t^4$ satisfies the monic polynomial $(T^4)^3- (t^3)^4=0$ and $t^5$ satisfies the monic polynomial $(T^5)^3 - (t^3)^5=0$. Polynomial rings in one variable have dimension $1$, so $\dim(S) = 1$.

Let $P \in \Spec(R)$ be nonzero. Note first that $P \cap S \neq 0$, since if $f \in P$, then there is some nonzero multiple of $f$ in $S$ by \Cref{int extension of domains nonzero multiple}. Since $\dim(S)=1$, $P \cap S$ is maximal. The inclusion$$\frac{S}{P \cap S} \hookrightarrow \frac{R}{P}$$ is integral: a dependence relation for any representative yields a dependence relation. Since $\frac{S}{P \cap S}$ is a field, $\frac{R}{P}$ is a domain, and the inclusion is integral, by \Cref{int ext domains field} we can conclude that $R/P$ is a field, so $P$ is a maximal ideal. This shows that every nonzero prime in $R$ is maximal, and thus $\dim(R) = 1$.
#### $\defn$ – Catenary Ring
![[Catenary Ring]]
#### $\defn$ – Equidimensional Ring
![[Equidimensional Ring]]
#### $\ex$ – 
Consider the ring $$R = \displaystyle \frac{k[x,y,z]}{(xy,xz)}.$$We can find the minimal primes of $R$ by computing $\Min((xy,xz))$ in $k[x,y,z]$. The prime ideals $(x)$ and $(y,z)$ are incomparable, and $(x)\cap(y,z)=(xy,xz)$, so $\Min(R)=\{(x),(y,z)\}$. We claim that the height of $(x-1,y,z)$ is one: it contains the minimal prime $(y,z)$, and any saturated chain from $(y,z)$ to $(x-1,y,z)$ corresponds to a saturated chain from $(0)$ to $(x-1)$ in $k[x]$, which must have length 1 since this is a PID. The height of $(x,y-1,z)$ is at least 2, as witnessed by the chain $(x) \subseteq (x,y-1) \subseteq (x,y-1,z)$. So $R$ is not equidimensional.
#### $\ex$ – 
The ring $\Z_{(2)}[x]$ is a domain that is not equidimensional. On the one hand, the maximal ideal $(2,x)$ has height at least two, which we see from the chain 
$$(0) \subsetneq (x) \subseteq (x,2).$$
Thus $\dim(R) \geqslant 2$.
On the other hand, we will show later that the prime ideal $P = (2x-1)$ has height 1, and it is maximal since $R/P \cong \Q$. Therefore, $\dim(R/P)=0$, and thus 
$$\dim(R/P)+ \height(P)=1$$ 
whereas $\dim R \geqslant 2$.  %In fact, $\dim R=2$, but I won't justify this. 

The ring $R$ in this example is in fact a catenary domain, which we will not justify.  Notice that there are maximal ideals of distinct heights in this ring, for example the ideal $P$ given above is a prime of height 1 whereas and the maximal ideal $\m=(2,x)$ has height 2. Thus this ring is not equidimensional.
## Over, Up, and Down
#### $\defn$ – Fiber
![[Fiber]]
#### $\defn$ – Fiber Ring
![[Fiber Ring]]
#### $\lem$ – Primes Contracting to p Fiber Ring
![[Lemma – Primes Contracting to p Fiber Ring]]
#### $\lem$ – Image Criterion
![[Lemma – Image Criterion]]
#### $\ex$ – 
Let $R = \C[x^n] \subseteq S = \C[x]$. the ideal $x^n R$ is prime, while $x^n S$ is not even radical. Nevertheless, $x^n S \cap R = (x) \cap R = x^n R$.
#### $\ex$ – Inclusion Triangle
Consider the inclusion $R:=k[xy,xz,yz]\to S:=k[x,y,z]$ and the prime $P = (xy)$ in $R$. Notice that $(xz)(yz) \in P S \cap R$, but *not* in $P$, so $P S \cap R \supsetneq P$, and thus $P \notin \im(\varphi^*)$. We can check this more directly, by noting that any prime $Q$ in $S$ contracting to $P$ would contain $P S = (x) \cap (y)$, so $Q \supseteq (x)$ or $Q \supseteq (y)$. But $(x) \cap R = (xy,xz) \supsetneq P$ and $(y) \cap R = (xy,yz) \supsetneq P$, so no prime in $S$ contracts to $P$.
#### $\cor$ – Direct Summand and Surj Spec Map
![[Corollary – Direct Summand and Surj Spec Map]]
#### $\defn$ – Integral Element
![[Integral Element]]
#### $\rem$
Notice that $\overline{I}^S \cap R = \overline{I}$ is immediate from the definition.
#### Exercise – 
Let $R\subseteq S$, $I$ be an ideal of $S$, and $t$ be an indeterminate. Consider the rings $R[It]\subseteq R[t] \subseteq S[t]$. Here $R[It]$ is the subalgebra of $R[t]$ generated by elements of the form $at$ for all $a \in I$. Notice that we can give this a structure of a graded ring by setting all elements in $R$ to have degree $0$ and $t$ to have degree $1$, so$$R[It] = \bigoplus_{n \geqslant 0} I^n t^n.$$
This is usually called the {\bf Rees algebra}\index{Rees algebra} of $I$.
\begin{enumerate}[a)]
	\item $\overline{I}^S =\{ s \in S \ | \ st\in S[t] \ \text{is integral over the ring} \ R[It]\}$.
	\item $\overline{I}^S$ is an ideal of $S$.
\end{enumerate}
#### $\lem$ – Extension-Contraction Lemma for Int. Ext.
![[Lemma – Extension-Contraction Lemma for Int. Ext.]]
#### $\thm$ – Lying Over
![[Theorem – Lying Over]]
#### $\ex$ – 
We saw in \Cref{example inclusion triangle} that the map induced on Spec by the inclusion $k[xy,xz,yz] \subseteq k[x,y,z]$ is not surjective. So \Cref{lying over} does not apply --- indeed, this inclusion is not module-finite, and thus by \Cref{module-finite implies integral} it is not integral. For example, the infinite set $\{ 1, x^n, y^n, z^n \mid n \geqslant 1\}$ is a minimal generating set for $k[x,y,z]$ over $k[xy,xz,yz]$.
#### $\ex$ – 
Suppose $f$ is a regular element on $R$, but not a unit. Since $f$ is regular, the map $R \longrightarrow R_f$ is an inclusion, but we claim it is not integral. If $\frac{1}{f}$ is integral over $R$, there would be $a_i \in R$ such that
$$\frac{1}{f^n} + \frac{a_{n-1}}{f^{n-1}} + \cdots + \frac{a_1}{f} + a_0 = 0.$$
After multiplying by $f^n$ all terms are of the form $\frac{r}{1}$, and thus in $R$, since the localization map is injective. So 
$$1 = -( a_{n-1} f + \cdots + a_1 f^{n-1} + a_0 f^n) \in (f),$$
and $f$ must be a unit. So whenever $f$ is a regular element but not a unit, $R \longrightarrow R_f$ is an example of an inclusion that is not integral. Note that the image of the map on Spec is the complement of $V(f)$, so in particular the map is not surjective.

In contrast, the map $R \longrightarrow R/(f)$ is integral, since it is module-finite, but it is not an inclusion. The map on Spec is again not surjective: its image is $V(f)$.
#### $\rem$
Let $I$ be an ideal in $S$. Suppose $R \to S$ is an integral extension. There is an induced map $R/(I \cap R) \to S/I$, and that map is integral: an equation of integral dependance for $s \in S$ over $R$ gives an equation for integral dependance of its class in $S/I$ over $R/(I \cap R)$.
#### $\lem$ – Integral Extension Maximal Contracts to Maximal
![[Lemma – Integral Extension Maximal Contracts to Maximal]]
#### $\lem$ – Integral Preserved by Localization
![[Lemma – Integral Preserved by Localization]]
#### $\thm$ – Incomparability
![[Theorem – Incomparability]]
#### $\cor$ – Finite Contractions in Int Noeth Alg
![[Corollary – Finite Contractions in Int Noeth Alg]]
#### $\cor$ – Integral Dim Inequality
![[Corollary – Integral Dim Inequality]]
#### $\thm$ – Going Up
![[Theorem – Going Up]]
#### $\cor$ – Integral Dim Equality
![[Corollary – Integral Dim Equality]]
#### $\lem$ – Lemma Minimal Polynomial
![[Lemma – Lemma Minimal Polynomial]]
#### $\thm$ – Going Down
![[Theorem – Going Down]]
#### $\cor$ – Height in Normal Domains
![[Corollary – Height in Normal Domains]]
## Noether Normalizations
#### $\lem$ – Making a Pure-Power Leading Term
![[Lemma – Making a Pure-Power Leading Term]]
#### $\lem$ – Making a Pure-Power Leading Term (Graded Version)
![[Lemma – Making a Pure-Power Leading Term (Graded Version)]]
#### $\thm$ – Noether Normalization
![[Theorem – Noether Normalization]]
#### $\defn$ – Noether Normalization
![[Noether Normalization]]
#### $\thm$ – Graded Noether Normalization
![[Theorem – Graded Noether Normalization]]
#### $\rem$
There also exist Noether normalizations for quotients of power series rings over fields: the key change is that after a change of coordinates, one can rewrite any nonzero power series in $k \llbracket x_1,\dots, x_n \Rbracket$ as a series of the form $u (x_n^d + a_{d-1} x_n^{d-1} + \cdots + a_0)$  for a unit $u$ and $a_0,\dots,a_{d-1}\in k \llbracket x_1,\dots,x_{n-1}\Rbracket$. This is called \emph{Weierstrass preparation}. The rest of the proof of the Noether normalization theorem proceeds in essentially the same way. Thus, given $k\llbracket x_1,\dots, x_n \Rbracket / I$, we have some module-finite inclusion of another power series ring $k\llbracket z_1,\dots, z_d \Rbracket \subseteq k\llbracket x_1,\dots, x_n \Rbracket/I$.	
#### $\thm$ – Noether Normalization Height and Dimension
![[Theorem – Noether Normalization Height and Dimension]]
#### $\cor$ – Dimension of Polynomial Ring
![[Corollary – Dimension of Polynomial Ring]]
#### $\cor$ – Dimension of Algebra
![[Corollary – Dimension of Algebra]]
#### $\cor$ – F.G. Algebra Catenary Domain
![[Corollary – F.G. Algebra Catenary Domain]]
#### $\defn$ – Transcendence Basis
![[Transcendence Basis]]
#### $\lem$ – Transcendence Basis Well-Defined 1
![[Lemma – Transcendence Basis Well-Defined 1]]
#### $\lem$ – Transcendence Basis Well-Defined 2
![[Lemma – Transcendence Basis Well-Defined 2]]
#### $\cor$ – Dimension in F.G. Domain
![[Corollary – Dimension in F.G. Domain]]
#### $\ex$ – 
Let $R = k[xu,xv,yu,yv] \subseteq k[x,y,u,v]$, where $k$ is an algebraically closed field and $x,y,u,v$ are indeterminates. Then $$\mathrm{frac}(R) = k(xu,xv,yu,yv) = k \left( xu, \frac{v}{u},\frac{y}{x},\frac{yv}{xu} \right) = k\left(xu,\frac{v}{u},\frac{y}{x}\right),$$ and these last three are algebraically independent over $k$. Thus, $\dim(R)=3$.
#### $\ex$ – 
Let us use our dimension theorems to give two different proofs that over any field $k$, $\displaystyle R=k[x,y,z]/(y^2-xz)$ has dimension 2.

First, we claim that $A = k[x,z]$ is a Noether normalization of $R$. First, note that $x$ and $z$ are algebraically independent over $k$. Moreover, $R = A[y]$ and $y$ satisfies the monic polynomial $t^2-xz \in A[t]$, so $A \subseteq R = A[y]$ is integral, and thus module-finite by \Cref{characterization of mod-fin alg-fin integral}. Therefore, $\dim(R) = 2$.

Alternatively, one can show that $y^2-xz$ is irreducible, e.g., by thinking of it as a polynomial in $y$ and applying Eisenstein's criterion. Then $(y^2-xz)$ is a prime of height one, so by \Cref{fg algebra catenary domain => equidimensional ht I = dim R - dim R/I}
the dimension of $R$ is $$\dim(R) = \dim(k[x,y,z])-\height((y^2-xz))=3-1=2.$$
#### $\ex$ – 
Let us compute the dimension of the ring $R = k[a,b,c,d]/I$, where $$I=(b^2-ac,c^2-bd,bc-ad).$$ We claim that $A = k[a,d]\subseteq R$ is a Noether normalization. The inclusion is integral, since $$b^2=ac \implies b^4=a^2 c^2 = a^2bd,$$so $b$ satisfies $t^4 - a^2d t =0$. Similarly, one can show that $c$ satisfies $t^4-ad^2t$.
$$c^2=bd \implies c^4 = b^2 d^2 = acd^2,$$ 
so $c$ satisfies $t^4-ad^2t$.

We also need to show that $a,d$ are algebraically independent over $k$, or equivalently that the map from the polynomial ring $\psi\! : k[u,v] \to R$ with $\psi(u)=a$, $\psi(v)=d$ is injective.

First assume that $k=\overline{k}$ is algebraically closed. 
Observe that the map 
$$\xymatrix@R=1mm{ Z(I) \ar[r]^{\phi} & \mathbb{A}^2 \\
(a,b,c,d) \ar@{|->}[r] & (a,d) }$$
is surjective: given $a,d \in k$, write $a=\alpha^3, d=\delta^3$, and note that $(\alpha^3, \alpha^2 \delta, \alpha \delta^2, \delta^3)$ is an element of $X=\cZ(I)$ that maps to $(a,d)$. Thus, the kernel of the induced map on coordinate rings $k[\mathbb{A}^2] \to k[X]$ is $\cI(\mathbb{A}^2) = 0$; i.e, the map is injective. By the Nullstellensatz, $\mathcal{I}(\cZ(I))= \sqrt{I}$, and our induced map on coordinate rings is the map
$$\xymatrix@R=1mm{ k[u,v] \ar[r] & k[a,b,c,d] / \sqrt{I} \Quad \phi^*(u)=a, \ \phi^*(v)=d. }$$
Since this map is injective, and this factors as
$$\xymatrix@R=1mm{ k[u,v] \ar[r]^-\psi & k[a,b,c,d] / I \ar@{->>}[r] & k[a,b,c,d] / \sqrt{I} }$$
the first map is injective.
# Dimension: A Local Perspective
## Height and Number of Generators
#### $\thm$ – Krull's Principal Ideal Theorem
![[Theorem – Krull's Principal Ideal Theorem]]
#### $\rem$
Note that this is stronger than the statement that the height of $(f)$ is at most one: that would only mean that some minimal prime of $(f)$ has height at most one.
#### $\ex$ – 
Let $R = k[x,xy,xy^2,\ldots] \subseteq k[x,y]$. Note that $(x)$ is not prime: for $a>0$, $xy^a \notin (x)$, since $y^a\notin R$, but $(xy^a)^2 = x \cdot x y^{2a} \in (x)$. Thus, $\m = (x,xy,xy^2,\dots) \subseteq \sqrt{(x)}$, and since $\m$ is a maximal ideal, we have equality, so $\Min{(x)} = \{ \m \}$. However, the ideal $P = (xy,xy^2, xy^3,\dots) = (y) k[x,y] \cap R$ is prime, and the chain $(0) \subsetneq P \subsetneq \m$ shows that $\height(\m)>1$.
#### $\lem$ – Proper Containment of Ideals in Noeth Ring
![[Lemma – Proper Containment of Ideals in Noeth Ring]]
#### $\thm$ – Krull's Height Theorem
![[Theorem – Krull's Height Theorem]]
#### $\ex$ – 
If $k$ is a field and $R = k[x_1, \ldots, xn]$, the ideal $(x_1,x_2,\dots,x_n)$ generated by $n$ variables has height~$n$. There are many other ideals that attain the bound given by \hyperref[Krull height theorem]{Krull's height theorem}. For example, $(u^3-xyz,x^2+2xz-6y^5,vx+7vy)\in k [u,v,w,x,y,z]$. An ideal of height $n$ generated by $n$ elements is called a {\bf complete intersection}.\index{complete intersection}
#### $\ex$ – 
The ideal $(xy,xz)$ in $k[x,y,z]$ has minimal primes of heights 1 and 2.
#### $\ex$ – 
In $R=k[x,y]/(x^2,xy)$, the ideal generated by zero elements (the zero ideal) has an associated prime of height two, namely $(x,y)$. The same phenomenon can happen even in a nice polynomial ring. For example, consider the ideal $I=(x^3, y^3, x^2 u + xy v + y^2 w) \subseteq R= k[u,v,w,x,y]$. Note that $(u,v,w,x,y) = (I : x^2 y^2)$, so $I$ has an associated prime of height 5.
#### $\ex$ – 
Let $R=k[x,xy,xy^2,\dots] \subseteq k[x,y]$. For all $a \geqslant 1$, $xy^a \notin (x)$, since $y^a\notin R$, but $(xy^a)^2 = x \cdot x y^{2a}\in (x)$. Then $(x)$ is not prime in $R$, and moreover $\m=(x,xy,xy^2,\dots) \subseteq \sqrt{(x)}$. Since $\m$ is a maximal ideal, we have equality, so $\Min{(x)}=\{\m\}$. However, $\p=(xy,xy^2, xy^3,\dots) = (y) k[x,y] \cap R$ is prime, and the chain $(0) \subsetneq \p \subsetneq \m$ shows that $\height(\m)>1$.
#### $\cor$ – Ideals in Noeth Rings have Finite Height
![[Corollary – Ideals in Noeth Rings have Finite Height]]
#### $\defn$ – Embedding Dimension
![[Embedding Dimension]]
#### $\defn$ – Regular Local Ring
![[Regular Local Ring]]
## Systems of Parameters
#### $\thm$ – Existence of SOPs
![[Theorem – Existence of SOPs]]
#### $\cor$ – Dim <= EmbDim
![[Corollary – Dim = EmbDim]]
#### $\defn$ – System of Parameters
![[System of Parameters]]
#### $\defn$ – Absolutely Minimal Prime
![[Absolutely Minimal Prime]]
#### $\thm$ – SOP Stuff Theorem
![[Theorem – SOP Stuff Theorem]]
#### $\ex$ – 
Let $R=\Z_{(2)}[x]$. This ring has dimension at least two, but $R/(2x-1)\cong \mathbb{Q}$ has dimension zero.

For an example that is a finitely generated algebra over a field, consider $R = S/I$ with $S = k[x,y,z]$ and $I =(xy,xz,x^2-x)$. This ring has dimension two: $A=k[y,z]$ is a noether normalization, as $x^2-x=0$ makes $x$ integral over $A$, and no nonzero polynomial in $y,z$ in $k[x,y,z]$ can belong to the ideal $(x) \supseteq (xy,xz,x^2-x)$. However, $$\displaystyle R/(x-1) \cong \frac{k[x,y,z]}{(y,z,x-1)}\cong k$$
has dimension zero.